var L9=((J)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(J,{get:(Q,K)=>(typeof require!=="undefined"?require:Q)[K]}):J)(function(J){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+J+'" is not supported')});class s{iter;constructor(J){this.iter=J[Symbol.iterator]()}[Symbol.iterator](){return this.iter}next(){return this.iter.next()}static range(J,Q,K=1){function*Y(){if(Q===void 0)Q=J,J=0;for(let Z=J;K>0?Z<Q:Z>Q;Z+=K)yield Z}return new s(Y())}enumerate(){return this.applyGenFn(function*J(Q){let K=0;for(let Y of Q)yield[K,Y],K+=1})}map(J){return this.applyGenFn(function*Q(K){for(let Y of K)yield J(Y)})}filter(J){return this.applyGenFn(function*Q(K){for(let Y of K)if(J(Y))yield Y})}filterMap(J){return this.applyGenFn(function*Q(K){for(let Y of K){let Z=J(Y);if(Z)yield Z}})}flatMap(J){return this.applyGenFn(function*Q(K){for(let Y of K){let Z=J(Y);if(Z)for(let X of Z)yield X}})}forEach(J){for(let Q of this)J(Q)}fold(J,Q){let K=J;for(let Y of this)K=Q(K,Y);return K}collectArray(){return Array.from(this)}collectMap(){return new Map(this)}collectObject(){return Object.fromEntries(this)}applyGenFn(J){return new s(J(this))}}/*! https://mths.be/codepointat v0.2.0 by @mathias */if(!String.prototype.codePointAt)(function(){var J=function(){try{var K={},Y=Object.defineProperty,Z=Y(K,K,K)&&Y}catch(X){}return Z}(),Q=function(K){if(this==null)throw TypeError();var Y=String(this),Z=Y.length,X=K?Number(K):0;if(X!=X)X=0;if(X<0||X>=Z)return;var H=Y.charCodeAt(X),W;if(H>=55296&&H<=56319&&Z>X+1){if(W=Y.charCodeAt(X+1),W>=56320&&W<=57343)return(H-55296)*1024+W-56320+65536}return H};if(J)J(String.prototype,"codePointAt",{value:Q,configurable:!0,writable:!0});else String.prototype.codePointAt=Q})();var NJ=0,F8=-3;function I0(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function z9(J,Q){this.source=J,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=Q,this.destLen=0,this.ltree=new I0,this.dtree=new I0}var M8=new I0,N8=new I0,$J=new Uint8Array(30),jJ=new Uint16Array(30),$8=new Uint8Array(30),j8=new Uint16Array(30),O9=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yJ=new I0,U0=new Uint8Array(320);function R8(J,Q,K,Y){var Z,X;for(Z=0;Z<K;++Z)J[Z]=0;for(Z=0;Z<30-K;++Z)J[Z+K]=Z/K|0;for(X=Y,Z=0;Z<30;++Z)Q[Z]=X,X+=1<<J[Z]}function F9(J,Q){var K;for(K=0;K<7;++K)J.table[K]=0;J.table[7]=24,J.table[8]=152,J.table[9]=112;for(K=0;K<24;++K)J.trans[K]=256+K;for(K=0;K<144;++K)J.trans[24+K]=K;for(K=0;K<8;++K)J.trans[168+K]=280+K;for(K=0;K<112;++K)J.trans[176+K]=144+K;for(K=0;K<5;++K)Q.table[K]=0;Q.table[5]=32;for(K=0;K<32;++K)Q.trans[K]=K}var xJ=new Uint16Array(16);function ZJ(J,Q,K,Y){var Z,X;for(Z=0;Z<16;++Z)J.table[Z]=0;for(Z=0;Z<Y;++Z)J.table[Q[K+Z]]++;J.table[0]=0;for(X=0,Z=0;Z<16;++Z)xJ[Z]=X,X+=J.table[Z];for(Z=0;Z<Y;++Z)if(Q[K+Z])J.trans[xJ[Q[K+Z]]++]=Z}function M9(J){if(!J.bitcount--)J.tag=J.source[J.sourceIndex++],J.bitcount=7;var Q=J.tag&1;return J.tag>>>=1,Q}function W0(J,Q,K){if(!Q)return K;while(J.bitcount<24)J.tag|=J.source[J.sourceIndex++]<<J.bitcount,J.bitcount+=8;var Y=J.tag&65535>>>16-Q;return J.tag>>>=Q,J.bitcount-=Q,Y+K}function _J(J,Q){while(J.bitcount<24)J.tag|=J.source[J.sourceIndex++]<<J.bitcount,J.bitcount+=8;var K=0,Y=0,Z=0,X=J.tag;do Y=2*Y+(X&1),X>>>=1,++Z,K+=Q.table[Z],Y-=Q.table[Z];while(Y>=0);return J.tag=X,J.bitcount-=Z,Q.trans[K+Y]}function N9(J,Q,K){var Y,Z,X,H,W,U;Y=W0(J,5,257),Z=W0(J,5,1),X=W0(J,4,4);for(H=0;H<19;++H)U0[H]=0;for(H=0;H<X;++H){var A=W0(J,3,0);U0[O9[H]]=A}ZJ(yJ,U0,0,19);for(W=0;W<Y+Z;){var q=_J(J,yJ);switch(q){case 16:var V=U0[W-1];for(U=W0(J,2,3);U;--U)U0[W++]=V;break;case 17:for(U=W0(J,3,3);U;--U)U0[W++]=0;break;case 18:for(U=W0(J,7,11);U;--U)U0[W++]=0;break;default:U0[W++]=q;break}}ZJ(Q,U0,0,Y),ZJ(K,U0,Y,Z)}function mJ(J,Q,K){while(!0){var Y=_J(J,Q);if(Y===256)return NJ;if(Y<256)J.dest[J.destLen++]=Y;else{var Z,X,H,W;Y-=257,Z=W0(J,$J[Y],jJ[Y]),X=_J(J,K),H=J.destLen-W0(J,$8[X],j8[X]);for(W=H;W<H+Z;++W)J.dest[J.destLen++]=J.dest[W]}}}function $9(J){var Q,K,Y;while(J.bitcount>8)J.sourceIndex--,J.bitcount-=8;if(Q=J.source[J.sourceIndex+1],Q=256*Q+J.source[J.sourceIndex],K=J.source[J.sourceIndex+3],K=256*K+J.source[J.sourceIndex+2],Q!==(~K&65535))return F8;J.sourceIndex+=4;for(Y=Q;Y;--Y)J.dest[J.destLen++]=J.source[J.sourceIndex++];return J.bitcount=0,NJ}function j9(J,Q){var K=new z9(J,Q),Y,Z,X;do{switch(Y=M9(K),Z=W0(K,2,0),Z){case 0:X=$9(K);break;case 1:X=mJ(K,M8,N8);break;case 2:N9(K,K.ltree,K.dtree),X=mJ(K,K.ltree,K.dtree);break;default:X=F8}if(X!==NJ)throw new Error("Data error")}while(!Y);if(K.destLen<K.dest.length)if(typeof K.dest.slice==="function")return K.dest.slice(0,K.destLen);else return K.dest.subarray(0,K.destLen);return K.dest}F9(M8,N8);R8($J,jJ,4,3);R8($8,j8,2,1);$J[28]=0;jJ[28]=258;var R9=j9;function j0(J,Q,K,Y,Z){return Math.pow(1-Z,3)*J+3*Math.pow(1-Z,2)*Z*Q+3*(1-Z)*Math.pow(Z,2)*K+Math.pow(Z,3)*Y}function O0(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}O0.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};O0.prototype.addPoint=function(J,Q){if(typeof J==="number"){if(isNaN(this.x1)||isNaN(this.x2))this.x1=J,this.x2=J;if(J<this.x1)this.x1=J;if(J>this.x2)this.x2=J}if(typeof Q==="number"){if(isNaN(this.y1)||isNaN(this.y2))this.y1=Q,this.y2=Q;if(Q<this.y1)this.y1=Q;if(Q>this.y2)this.y2=Q}};O0.prototype.addX=function(J){this.addPoint(J,null)};O0.prototype.addY=function(J){this.addPoint(null,J)};O0.prototype.addBezier=function(J,Q,K,Y,Z,X,H,W){var U=[J,Q],A=[K,Y],q=[Z,X],V=[H,W];this.addPoint(J,Q),this.addPoint(H,W);for(var B=0;B<=1;B++){var _=6*U[B]-12*A[B]+6*q[B],E=-3*U[B]+9*A[B]-9*q[B]+3*V[B],O=3*A[B]-3*U[B];if(E===0){if(_===0)continue;var z=-O/_;if(0<z&&z<1){if(B===0)this.addX(j0(U[B],A[B],q[B],V[B],z));if(B===1)this.addY(j0(U[B],A[B],q[B],V[B],z))}continue}var F=Math.pow(_,2)-4*O*E;if(F<0)continue;var D=(-_+Math.sqrt(F))/(2*E);if(0<D&&D<1){if(B===0)this.addX(j0(U[B],A[B],q[B],V[B],D));if(B===1)this.addY(j0(U[B],A[B],q[B],V[B],D))}var N=(-_-Math.sqrt(F))/(2*E);if(0<N&&N<1){if(B===0)this.addX(j0(U[B],A[B],q[B],V[B],N));if(B===1)this.addY(j0(U[B],A[B],q[B],V[B],N))}}};O0.prototype.addQuad=function(J,Q,K,Y,Z,X){var H=J+0.6666666666666666*(K-J),W=Q+0.6666666666666666*(Y-Q),U=H+0.3333333333333333*(Z-J),A=W+0.3333333333333333*(X-Q);this.addBezier(J,Q,H,W,U,A,Z,X)};function g(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}g.prototype.moveTo=function(J,Q){this.commands.push({type:"M",x:J,y:Q})};g.prototype.lineTo=function(J,Q){this.commands.push({type:"L",x:J,y:Q})};g.prototype.curveTo=g.prototype.bezierCurveTo=function(J,Q,K,Y,Z,X){this.commands.push({type:"C",x1:J,y1:Q,x2:K,y2:Y,x:Z,y:X})};g.prototype.quadTo=g.prototype.quadraticCurveTo=function(J,Q,K,Y){this.commands.push({type:"Q",x1:J,y1:Q,x:K,y:Y})};g.prototype.close=g.prototype.closePath=function(){this.commands.push({type:"Z"})};g.prototype.extend=function(J){if(J.commands)J=J.commands;else if(J instanceof O0){var Q=J;this.moveTo(Q.x1,Q.y1),this.lineTo(Q.x2,Q.y1),this.lineTo(Q.x2,Q.y2),this.lineTo(Q.x1,Q.y2),this.close();return}Array.prototype.push.apply(this.commands,J)};g.prototype.getBoundingBox=function(){var J=new O0,Q=0,K=0,Y=0,Z=0;for(var X=0;X<this.commands.length;X++){var H=this.commands[X];switch(H.type){case"M":J.addPoint(H.x,H.y),Q=Y=H.x,K=Z=H.y;break;case"L":J.addPoint(H.x,H.y),Y=H.x,Z=H.y;break;case"Q":J.addQuad(Y,Z,H.x1,H.y1,H.x,H.y),Y=H.x,Z=H.y;break;case"C":J.addBezier(Y,Z,H.x1,H.y1,H.x2,H.y2,H.x,H.y),Y=H.x,Z=H.y;break;case"Z":Y=Q,Z=K;break;default:throw new Error("Unexpected path command "+H.type)}}if(J.isEmpty())J.addPoint(0,0);return J};g.prototype.draw=function(J){J.beginPath();for(var Q=0;Q<this.commands.length;Q+=1){var K=this.commands[Q];if(K.type==="M")J.moveTo(K.x,K.y);else if(K.type==="L")J.lineTo(K.x,K.y);else if(K.type==="C")J.bezierCurveTo(K.x1,K.y1,K.x2,K.y2,K.x,K.y);else if(K.type==="Q")J.quadraticCurveTo(K.x1,K.y1,K.x,K.y);else if(K.type==="Z")J.closePath()}if(this.fill)J.fillStyle=this.fill,J.fill();if(this.stroke)J.strokeStyle=this.stroke,J.lineWidth=this.strokeWidth,J.stroke()};g.prototype.toPathData=function(J){J=J!==void 0?J:2;function Q(H){if(Math.round(H)===H)return""+Math.round(H);else return H.toFixed(J)}function K(){var H=arguments,W="";for(var U=0;U<arguments.length;U+=1){var A=H[U];if(A>=0&&U>0)W+=" ";W+=Q(A)}return W}var Y="";for(var Z=0;Z<this.commands.length;Z+=1){var X=this.commands[Z];if(X.type==="M")Y+="M"+K(X.x,X.y);else if(X.type==="L")Y+="L"+K(X.x,X.y);else if(X.type==="C")Y+="C"+K(X.x1,X.y1,X.x2,X.y2,X.x,X.y);else if(X.type==="Q")Y+="Q"+K(X.x1,X.y1,X.x,X.y);else if(X.type==="Z")Y+="Z"}return Y};g.prototype.toSVG=function(J){var Q='<path d="';if(Q+=this.toPathData(J),Q+='"',this.fill&&this.fill!=="black")if(this.fill===null)Q+=' fill="none"';else Q+=' fill="'+this.fill+'"';if(this.stroke)Q+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"';return Q+="/>",Q};g.prototype.toDOMElement=function(J){var Q=this.toPathData(J),K=document.createElementNS("http://www.w3.org/2000/svg","path");return K.setAttribute("d",Q),K};function C8(J){throw new Error(J)}function bJ(J,Q){if(!J)C8(Q)}var C={fail:C8,argument:bJ,assert:bJ},gJ=32768,fJ=2147483648,C0={},L={},T={};function X0(J){return function(){return J}}L.BYTE=function(J){return C.argument(J>=0&&J<=255,"Byte value should be between 0 and 255."),[J]};T.BYTE=X0(1);L.CHAR=function(J){return[J.charCodeAt(0)]};T.CHAR=X0(1);L.CHARARRAY=function(J){if(typeof J==="undefined")J="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name.");var Q=[];for(var K=0;K<J.length;K+=1)Q[K]=J.charCodeAt(K);return Q};T.CHARARRAY=function(J){if(typeof J==="undefined")return 0;return J.length};L.USHORT=function(J){return[J>>8&255,J&255]};T.USHORT=X0(2);L.SHORT=function(J){if(J>=gJ)J=-(2*gJ-J);return[J>>8&255,J&255]};T.SHORT=X0(2);L.UINT24=function(J){return[J>>16&255,J>>8&255,J&255]};T.UINT24=X0(3);L.ULONG=function(J){return[J>>24&255,J>>16&255,J>>8&255,J&255]};T.ULONG=X0(4);L.LONG=function(J){if(J>=fJ)J=-(2*fJ-J);return[J>>24&255,J>>16&255,J>>8&255,J&255]};T.LONG=X0(4);L.FIXED=L.ULONG;T.FIXED=T.ULONG;L.FWORD=L.SHORT;T.FWORD=T.SHORT;L.UFWORD=L.USHORT;T.UFWORD=T.USHORT;L.LONGDATETIME=function(J){return[0,0,0,0,J>>24&255,J>>16&255,J>>8&255,J&255]};T.LONGDATETIME=X0(8);L.TAG=function(J){return C.argument(J.length===4,"Tag should be exactly 4 ASCII characters."),[J.charCodeAt(0),J.charCodeAt(1),J.charCodeAt(2),J.charCodeAt(3)]};T.TAG=X0(4);L.Card8=L.BYTE;T.Card8=T.BYTE;L.Card16=L.USHORT;T.Card16=T.USHORT;L.OffSize=L.BYTE;T.OffSize=T.BYTE;L.SID=L.USHORT;T.SID=T.USHORT;L.NUMBER=function(J){if(J>=-107&&J<=107)return[J+139];else if(J>=108&&J<=1131)return J=J-108,[(J>>8)+247,J&255];else if(J>=-1131&&J<=-108)return J=-J-108,[(J>>8)+251,J&255];else if(J>=-32768&&J<=32767)return L.NUMBER16(J);else return L.NUMBER32(J)};T.NUMBER=function(J){return L.NUMBER(J).length};L.NUMBER16=function(J){return[28,J>>8&255,J&255]};T.NUMBER16=X0(3);L.NUMBER32=function(J){return[29,J>>24&255,J>>16&255,J>>8&255,J&255]};T.NUMBER32=X0(5);L.REAL=function(J){var Q=J.toString(),K=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(Q);if(K){var Y=parseFloat("1e"+((K[2]?+K[2]:0)+K[1].length));Q=(Math.round(J*Y)/Y).toString()}var Z="";for(var X=0,H=Q.length;X<H;X+=1){var W=Q[X];if(W==="e")Z+=Q[++X]==="-"?"c":"b";else if(W===".")Z+="a";else if(W==="-")Z+="e";else Z+=W}Z+=Z.length&1?"f":"ff";var U=[30];for(var A=0,q=Z.length;A<q;A+=2)U.push(parseInt(Z.substr(A,2),16));return U};T.REAL=function(J){return L.REAL(J).length};L.NAME=L.CHARARRAY;T.NAME=T.CHARARRAY;L.STRING=L.CHARARRAY;T.STRING=T.CHARARRAY;C0.UTF8=function(J,Q,K){var Y=[],Z=K;for(var X=0;X<Z;X++,Q+=1)Y[X]=J.getUint8(Q);return String.fromCharCode.apply(null,Y)};C0.UTF16=function(J,Q,K){var Y=[],Z=K/2;for(var X=0;X<Z;X++,Q+=2)Y[X]=J.getUint16(Q);return String.fromCharCode.apply(null,Y)};L.UTF16=function(J){var Q=[];for(var K=0;K<J.length;K+=1){var Y=J.charCodeAt(K);Q[Q.length]=Y>>8&255,Q[Q.length]=Y&255}return Q};T.UTF16=function(J){return J.length*2};var wJ={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø"+"¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњ"+"јЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæø"+"ṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩ"+"άΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø"+"¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗ"+"ᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅ"+"ņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø"+"¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș"+"¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø"+"¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};C0.MACSTRING=function(J,Q,K,Y){var Z=wJ[Y];if(Z===void 0)return;var X="";for(var H=0;H<K;H++){var W=J.getUint8(Q+H);if(W<=127)X+=String.fromCharCode(W);else X+=Z[W&127]}return X};var u0=typeof WeakMap==="function"&&new WeakMap,d0,C9=function(J){if(!d0){d0={};for(var Q in wJ)d0[Q]=new String(Q)}var K=d0[J];if(K===void 0)return;if(u0){var Y=u0.get(K);if(Y!==void 0)return Y}var Z=wJ[J];if(Z===void 0)return;var X={};for(var H=0;H<Z.length;H++)X[Z.charCodeAt(H)]=H+128;if(u0)u0.set(K,X);return X};L.MACSTRING=function(J,Q){var K=C9(Q);if(K===void 0)return;var Y=[];for(var Z=0;Z<J.length;Z++){var X=J.charCodeAt(Z);if(X>=128){if(X=K[X],X===void 0)return}Y[Z]=X}return Y};T.MACSTRING=function(J,Q){var K=L.MACSTRING(J,Q);if(K!==void 0)return K.length;else return 0};function GJ(J){return J>=-128&&J<=127}function D9(J,Q,K){var Y=0,Z=J.length;while(Q<Z&&Y<64&&J[Q]===0)++Q,++Y;return K.push(128|Y-1),Q}function T9(J,Q,K){var Y=0,Z=J.length,X=Q;while(X<Z&&Y<64){var H=J[X];if(!GJ(H))break;if(H===0&&X+1<Z&&J[X+1]===0)break;++X,++Y}K.push(Y-1);for(var W=Q;W<X;++W)K.push(J[W]+256&255);return X}function P9(J,Q,K){var Y=0,Z=J.length,X=Q;while(X<Z&&Y<64){var H=J[X];if(H===0)break;if(GJ(H)&&X+1<Z&&GJ(J[X+1]))break;++X,++Y}K.push(64|Y-1);for(var W=Q;W<X;++W){var U=J[W];K.push(U+65536>>8&255,U+256&255)}return X}L.VARDELTAS=function(J){var Q=0,K=[];while(Q<J.length){var Y=J[Q];if(Y===0)Q=D9(J,Q,K);else if(Y>=-128&&Y<=127)Q=T9(J,Q,K);else Q=P9(J,Q,K)}return K};L.INDEX=function(J){var Q=1,K=[Q],Y=[];for(var Z=0;Z<J.length;Z+=1){var X=L.OBJECT(J[Z]);Array.prototype.push.apply(Y,X),Q+=X.length,K.push(Q)}if(Y.length===0)return[0,0];var H=[],W=1+Math.floor(Math.log(Q)/Math.log(2))/8|0,U=[void 0,L.BYTE,L.USHORT,L.UINT24,L.ULONG][W];for(var A=0;A<K.length;A+=1){var q=U(K[A]);Array.prototype.push.apply(H,q)}return Array.prototype.concat(L.Card16(J.length),L.OffSize(W),H,Y)};T.INDEX=function(J){return L.INDEX(J).length};L.DICT=function(J){var Q=[],K=Object.keys(J),Y=K.length;for(var Z=0;Z<Y;Z+=1){var X=parseInt(K[Z],0),H=J[X];Q=Q.concat(L.OPERAND(H.value,H.type)),Q=Q.concat(L.OPERATOR(X))}return Q};T.DICT=function(J){return L.DICT(J).length};L.OPERATOR=function(J){if(J<1200)return[J];else return[12,J-1200]};L.OPERAND=function(J,Q){var K=[];if(Array.isArray(Q))for(var Y=0;Y<Q.length;Y+=1)C.argument(J.length===Q.length,"Not enough arguments given for type"+Q),K=K.concat(L.OPERAND(J[Y],Q[Y]));else if(Q==="SID")K=K.concat(L.NUMBER(J));else if(Q==="offset")K=K.concat(L.NUMBER32(J));else if(Q==="number")K=K.concat(L.NUMBER(J));else if(Q==="real")K=K.concat(L.REAL(J));else throw new Error("Unknown operand type "+Q);return K};L.OP=L.BYTE;T.OP=T.BYTE;var l0=typeof WeakMap==="function"&&new WeakMap;L.CHARSTRING=function(J){if(l0){var Q=l0.get(J);if(Q!==void 0)return Q}var K=[],Y=J.length;for(var Z=0;Z<Y;Z+=1){var X=J[Z];K=K.concat(L[X.type](X.value))}if(l0)l0.set(J,K);return K};T.CHARSTRING=function(J){return L.CHARSTRING(J).length};L.OBJECT=function(J){var Q=L[J.type];return C.argument(Q!==void 0,"No encoding function for type "+J.type),Q(J.value)};T.OBJECT=function(J){var Q=T[J.type];return C.argument(Q!==void 0,"No sizeOf function for type "+J.type),Q(J.value)};L.TABLE=function(J){var Q=[],K=J.fields.length,Y=[],Z=[];for(var X=0;X<K;X+=1){var H=J.fields[X],W=L[H.type];C.argument(W!==void 0,"No encoding function for field type "+H.type+" ("+H.name+")");var U=J[H.name];if(U===void 0)U=H.value;var A=W(U);if(H.type==="TABLE")Z.push(Q.length),Q=Q.concat([0,0]),Y.push(A);else Q=Q.concat(A)}for(var q=0;q<Y.length;q+=1){var V=Z[q],B=Q.length;C.argument(B<65536,"Table "+J.tableName+" too big."),Q[V]=B>>8,Q[V+1]=B&255,Q=Q.concat(Y[q])}return Q};T.TABLE=function(J){var Q=0,K=J.fields.length;for(var Y=0;Y<K;Y+=1){var Z=J.fields[Y],X=T[Z.type];C.argument(X!==void 0,"No sizeOf function for field type "+Z.type+" ("+Z.name+")");var H=J[Z.name];if(H===void 0)H=Z.value;if(Q+=X(H),Z.type==="TABLE")Q+=2}return Q};L.RECORD=L.TABLE;T.RECORD=T.TABLE;L.LITERAL=function(J){return J};T.LITERAL=function(J){return J.length};function d(J,Q,K){if(Q.length&&(Q[0].name!=="coverageFormat"||Q[0].value===1))for(var Y=0;Y<Q.length;Y+=1){var Z=Q[Y];this[Z.name]=Z.value}if(this.tableName=J,this.fields=Q,K){var X=Object.keys(K);for(var H=0;H<X.length;H+=1){var W=X[H],U=K[W];if(this[W]!==void 0)this[W]=U}}}d.prototype.encode=function(){return L.TABLE(this)};d.prototype.sizeOf=function(){return T.TABLE(this)};function k0(J,Q,K){if(K===void 0)K=Q.length;var Y=new Array(Q.length+1);Y[0]={name:J+"Count",type:"USHORT",value:K};for(var Z=0;Z<Q.length;Z++)Y[Z+1]={name:J+Z,type:"USHORT",value:Q[Z]};return Y}function EJ(J,Q,K){var Y=Q.length,Z=new Array(Y+1);Z[0]={name:J+"Count",type:"USHORT",value:Y};for(var X=0;X<Y;X++)Z[X+1]={name:J+X,type:"TABLE",value:K(Q[X],X)};return Z}function v0(J,Q,K){var Y=Q.length,Z=[];Z[0]={name:J+"Count",type:"USHORT",value:Y};for(var X=0;X<Y;X++)Z=Z.concat(K(Q[X],X));return Z}function n0(J){if(J.format===1)d.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(k0("glyph",J.glyphs)));else if(J.format===2)d.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(v0("rangeRecord",J.ranges,function(Q){return[{name:"startGlyphID",type:"USHORT",value:Q.start},{name:"endGlyphID",type:"USHORT",value:Q.end},{name:"startCoverageIndex",type:"USHORT",value:Q.index}]})));else C.assert(!1,"Coverage format must be 1 or 2.")}n0.prototype=Object.create(d.prototype);n0.prototype.constructor=n0;function i0(J){d.call(this,"scriptListTable",v0("scriptRecord",J,function(Q,K){var Y=Q.script,Z=Y.defaultLangSys;return C.assert(!!Z,"Unable to write GSUB: script "+Q.tag+" has no default language system."),[{name:"scriptTag"+K,type:"TAG",value:Q.tag},{name:"script"+K,type:"TABLE",value:new d("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new d("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Z.reqFeatureIndex}].concat(k0("featureIndex",Z.featureIndexes)))}].concat(v0("langSys",Y.langSysRecords,function(X,H){var W=X.langSys;return[{name:"langSysTag"+H,type:"TAG",value:X.tag},{name:"langSys"+H,type:"TABLE",value:new d("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:W.reqFeatureIndex}].concat(k0("featureIndex",W.featureIndexes)))}]})))}]}))}i0.prototype=Object.create(d.prototype);i0.prototype.constructor=i0;function s0(J){d.call(this,"featureListTable",v0("featureRecord",J,function(Q,K){var Y=Q.feature;return[{name:"featureTag"+K,type:"TAG",value:Q.tag},{name:"feature"+K,type:"TABLE",value:new d("featureTable",[{name:"featureParams",type:"USHORT",value:Y.featureParams}].concat(k0("lookupListIndex",Y.lookupListIndexes)))}]}))}s0.prototype=Object.create(d.prototype);s0.prototype.constructor=s0;function a0(J,Q){d.call(this,"lookupListTable",EJ("lookup",J,function(K){var Y=Q[K.lookupType];return C.assert(!!Y,"Unable to write GSUB lookup type "+K.lookupType+" tables."),new d("lookupTable",[{name:"lookupType",type:"USHORT",value:K.lookupType},{name:"lookupFlag",type:"USHORT",value:K.lookupFlag}].concat(EJ("subtable",K.subtables,Y)))}))}a0.prototype=Object.create(d.prototype);a0.prototype.constructor=a0;var M={Table:d,Record:d,Coverage:n0,ScriptList:i0,FeatureList:s0,LookupList:a0,ushortList:k0,tableList:EJ,recordList:v0};function uJ(J,Q){return J.getUint8(Q)}function e0(J,Q){return J.getUint16(Q,!1)}function S9(J,Q){return J.getInt16(Q,!1)}function RJ(J,Q){return J.getUint32(Q,!1)}function D8(J,Q){var K=J.getInt16(Q,!1),Y=J.getUint16(Q+2,!1);return K+Y/65535}function I9(J,Q){var K="";for(var Y=Q;Y<Q+4;Y+=1)K+=String.fromCharCode(J.getInt8(Y));return K}function k9(J,Q,K){var Y=0;for(var Z=0;Z<K;Z+=1)Y<<=8,Y+=J.getUint8(Q+Z);return Y}function v9(J,Q,K){var Y=[];for(var Z=Q;Z<K;Z+=1)Y.push(J.getUint8(Z));return Y}function h9(J){var Q="";for(var K=0;K<J.length;K+=1)Q+=String.fromCharCode(J[K]);return Q}var y9={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function w(J,Q){this.data=J,this.offset=Q,this.relativeOffset=0}w.prototype.parseByte=function(){var J=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,J};w.prototype.parseChar=function(){var J=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,J};w.prototype.parseCard8=w.prototype.parseByte;w.prototype.parseUShort=function(){var J=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,J};w.prototype.parseCard16=w.prototype.parseUShort;w.prototype.parseSID=w.prototype.parseUShort;w.prototype.parseOffset16=w.prototype.parseUShort;w.prototype.parseShort=function(){var J=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,J};w.prototype.parseF2Dot14=function(){var J=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,J};w.prototype.parseULong=function(){var J=RJ(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,J};w.prototype.parseOffset32=w.prototype.parseULong;w.prototype.parseFixed=function(){var J=D8(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,J};w.prototype.parseString=function(J){var Q=this.data,K=this.offset+this.relativeOffset,Y="";this.relativeOffset+=J;for(var Z=0;Z<J;Z++)Y+=String.fromCharCode(Q.getUint8(K+Z));return Y};w.prototype.parseTag=function(){return this.parseString(4)};w.prototype.parseLongDateTime=function(){var J=RJ(this.data,this.offset+this.relativeOffset+4);return J-=2082844800,this.relativeOffset+=8,J};w.prototype.parseVersion=function(J){var Q=e0(this.data,this.offset+this.relativeOffset),K=e0(this.data,this.offset+this.relativeOffset+2);if(this.relativeOffset+=4,J===void 0)J=4096;return Q+K/J/10};w.prototype.skip=function(J,Q){if(Q===void 0)Q=1;this.relativeOffset+=y9[J]*Q};w.prototype.parseULongList=function(J){if(J===void 0)J=this.parseULong();var Q=new Array(J),K=this.data,Y=this.offset+this.relativeOffset;for(var Z=0;Z<J;Z++)Q[Z]=K.getUint32(Y),Y+=4;return this.relativeOffset+=J*4,Q};w.prototype.parseOffset16List=w.prototype.parseUShortList=function(J){if(J===void 0)J=this.parseUShort();var Q=new Array(J),K=this.data,Y=this.offset+this.relativeOffset;for(var Z=0;Z<J;Z++)Q[Z]=K.getUint16(Y),Y+=2;return this.relativeOffset+=J*2,Q};w.prototype.parseShortList=function(J){var Q=new Array(J),K=this.data,Y=this.offset+this.relativeOffset;for(var Z=0;Z<J;Z++)Q[Z]=K.getInt16(Y),Y+=2;return this.relativeOffset+=J*2,Q};w.prototype.parseByteList=function(J){var Q=new Array(J),K=this.data,Y=this.offset+this.relativeOffset;for(var Z=0;Z<J;Z++)Q[Z]=K.getUint8(Y++);return this.relativeOffset+=J,Q};w.prototype.parseList=function(J,Q){if(!Q)Q=J,J=this.parseUShort();var K=new Array(J);for(var Y=0;Y<J;Y++)K[Y]=Q.call(this);return K};w.prototype.parseList32=function(J,Q){if(!Q)Q=J,J=this.parseULong();var K=new Array(J);for(var Y=0;Y<J;Y++)K[Y]=Q.call(this);return K};w.prototype.parseRecordList=function(J,Q){if(!Q)Q=J,J=this.parseUShort();var K=new Array(J),Y=Object.keys(Q);for(var Z=0;Z<J;Z++){var X={};for(var H=0;H<Y.length;H++){var W=Y[H],U=Q[W];X[W]=U.call(this)}K[Z]=X}return K};w.prototype.parseRecordList32=function(J,Q){if(!Q)Q=J,J=this.parseULong();var K=new Array(J),Y=Object.keys(Q);for(var Z=0;Z<J;Z++){var X={};for(var H=0;H<Y.length;H++){var W=Y[H],U=Q[W];X[W]=U.call(this)}K[Z]=X}return K};w.prototype.parseStruct=function(J){if(typeof J==="function")return J.call(this);else{var Q=Object.keys(J),K={};for(var Y=0;Y<Q.length;Y++){var Z=Q[Y],X=J[Z];K[Z]=X.call(this)}return K}};w.prototype.parseValueRecord=function(J){if(J===void 0)J=this.parseUShort();if(J===0)return;var Q={};if(J&1)Q.xPlacement=this.parseShort();if(J&2)Q.yPlacement=this.parseShort();if(J&4)Q.xAdvance=this.parseShort();if(J&8)Q.yAdvance=this.parseShort();if(J&16)Q.xPlaDevice=void 0,this.parseShort();if(J&32)Q.yPlaDevice=void 0,this.parseShort();if(J&64)Q.xAdvDevice=void 0,this.parseShort();if(J&128)Q.yAdvDevice=void 0,this.parseShort();return Q};w.prototype.parseValueRecordList=function(){var J=this.parseUShort(),Q=this.parseUShort(),K=new Array(Q);for(var Y=0;Y<Q;Y++)K[Y]=this.parseValueRecord(J);return K};w.prototype.parsePointer=function(J){var Q=this.parseOffset16();if(Q>0)return new w(this.data,this.offset+Q).parseStruct(J);return};w.prototype.parsePointer32=function(J){var Q=this.parseOffset32();if(Q>0)return new w(this.data,this.offset+Q).parseStruct(J);return};w.prototype.parseListOfLists=function(J){var Q=this.parseOffset16List(),K=Q.length,Y=this.relativeOffset,Z=new Array(K);for(var X=0;X<K;X++){var H=Q[X];if(H===0){Z[X]=void 0;continue}if(this.relativeOffset=H,J){var W=this.parseOffset16List(),U=new Array(W.length);for(var A=0;A<W.length;A++)this.relativeOffset=H+W[A],U[A]=J.call(this);Z[X]=U}else Z[X]=this.parseUShortList()}return this.relativeOffset=Y,Z};w.prototype.parseCoverage=function(){var J=this.offset+this.relativeOffset,Q=this.parseUShort(),K=this.parseUShort();if(Q===1)return{format:1,glyphs:this.parseUShortList(K)};else if(Q===2){var Y=new Array(K);for(var Z=0;Z<K;Z++)Y[Z]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:Y}}throw new Error("0x"+J.toString(16)+": Coverage format must be 1 or 2.")};w.prototype.parseClassDef=function(){var J=this.offset+this.relativeOffset,Q=this.parseUShort();if(Q===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};else if(Q===2)return{format:2,ranges:this.parseRecordList({start:w.uShort,end:w.uShort,classId:w.uShort})};throw new Error("0x"+J.toString(16)+": ClassDef format must be 1 or 2.")};w.list=function(J,Q){return function(){return this.parseList(J,Q)}};w.list32=function(J,Q){return function(){return this.parseList32(J,Q)}};w.recordList=function(J,Q){return function(){return this.parseRecordList(J,Q)}};w.recordList32=function(J,Q){return function(){return this.parseRecordList32(J,Q)}};w.pointer=function(J){return function(){return this.parsePointer(J)}};w.pointer32=function(J){return function(){return this.parsePointer32(J)}};w.tag=w.prototype.parseTag;w.byte=w.prototype.parseByte;w.uShort=w.offset16=w.prototype.parseUShort;w.uShortList=w.prototype.parseUShortList;w.uLong=w.offset32=w.prototype.parseULong;w.uLongList=w.prototype.parseULongList;w.struct=w.prototype.parseStruct;w.coverage=w.prototype.parseCoverage;w.classDef=w.prototype.parseClassDef;var dJ={reserved:w.uShort,reqFeatureIndex:w.uShort,featureIndexes:w.uShortList};w.prototype.parseScriptList=function(){return this.parsePointer(w.recordList({tag:w.tag,script:w.pointer({defaultLangSys:w.pointer(dJ),langSysRecords:w.recordList({tag:w.tag,langSys:w.pointer(dJ)})})}))||[]};w.prototype.parseFeatureList=function(){return this.parsePointer(w.recordList({tag:w.tag,feature:w.pointer({featureParams:w.offset16,lookupListIndexes:w.uShortList})}))||[]};w.prototype.parseLookupList=function(J){return this.parsePointer(w.list(w.pointer(function(){var Q=this.parseUShort();C.argument(1<=Q&&Q<=9,"GPOS/GSUB lookup type "+Q+" unknown.");var K=this.parseUShort(),Y=K&16;return{lookupType:Q,lookupFlag:K,subtables:this.parseList(w.pointer(J[Q])),markFilteringSet:Y?this.parseUShort():void 0}})))||[]};w.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var J=this.parseUShort(),Q=this.parseUShort();C.argument(J===1&&Q<1,"GPOS/GSUB feature variations table unknown.");var K=this.parseRecordList32({conditionSetOffset:w.offset32,featureTableSubstitutionOffset:w.offset32});return K})||[]};var j={getByte:uJ,getCard8:uJ,getUShort:e0,getCard16:e0,getShort:S9,getULong:RJ,getFixed:D8,getTag:I9,getOffset:k9,getBytes:v9,bytesToString:h9,Parser:w};function x9(J,Q){Q.parseUShort(),J.length=Q.parseULong(),J.language=Q.parseULong();var K;J.groupCount=K=Q.parseULong(),J.glyphIndexMap={};for(var Y=0;Y<K;Y+=1){var Z=Q.parseULong(),X=Q.parseULong(),H=Q.parseULong();for(var W=Z;W<=X;W+=1)J.glyphIndexMap[W]=H,H++}}function m9(J,Q,K,Y,Z){J.length=Q.parseUShort(),J.language=Q.parseUShort();var X;J.segCount=X=Q.parseUShort()>>1,Q.skip("uShort",3),J.glyphIndexMap={};var H=new j.Parser(K,Y+Z+14),W=new j.Parser(K,Y+Z+16+X*2),U=new j.Parser(K,Y+Z+16+X*4),A=new j.Parser(K,Y+Z+16+X*6),q=Y+Z+16+X*8;for(var V=0;V<X-1;V+=1){var B=void 0,_=H.parseUShort(),E=W.parseUShort(),O=U.parseShort(),z=A.parseUShort();for(var F=E;F<=_;F+=1){if(z!==0){if(q=A.offset+A.relativeOffset-2,q+=z,q+=(F-E)*2,B=j.getUShort(K,q),B!==0)B=B+O&65535}else B=F+O&65535;J.glyphIndexMap[F]=B}}}function b9(J,Q){var K={};K.version=j.getUShort(J,Q),C.argument(K.version===0,"cmap table version should be 0."),K.numTables=j.getUShort(J,Q+2);var Y=-1;for(var Z=K.numTables-1;Z>=0;Z-=1){var X=j.getUShort(J,Q+4+Z*8),H=j.getUShort(J,Q+4+Z*8+2);if(X===3&&(H===0||H===1||H===10)||X===0&&(H===0||H===1||H===2||H===3||H===4)){Y=j.getULong(J,Q+4+Z*8+4);break}}if(Y===-1)throw new Error("No valid cmap sub-tables found.");var W=new j.Parser(J,Q+Y);if(K.format=W.parseUShort(),K.format===12)x9(K,W);else if(K.format===4)m9(K,W,J,Q,Y);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+K.format+").");return K}function g9(J,Q,K){J.segments.push({end:Q,start:Q,delta:-(Q-K),offset:0,glyphIndex:K})}function f9(J){J.segments.push({end:65535,start:65535,delta:1,offset:0})}function u9(J){var Q=!0,K;for(K=J.length-1;K>0;K-=1){var Y=J.get(K);if(Y.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),Q=!1;break}}var Z=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:Q?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:Q?12:20}];if(!Q)Z=Z.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}]);Z=Z.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var X=new M.Table("cmap",Z);X.segments=[];for(K=0;K<J.length;K+=1){var H=J.get(K);for(var W=0;W<H.unicodes.length;W+=1)g9(X,H.unicodes[W],K);X.segments=X.segments.sort(function(D,N){return D.start-N.start})}f9(X);var U=X.segments.length,A=0,q=[],V=[],B=[],_=[],E=[],O=[];for(K=0;K<U;K+=1){var z=X.segments[K];if(z.end<=65535&&z.start<=65535){if(q=q.concat({name:"end_"+K,type:"USHORT",value:z.end}),V=V.concat({name:"start_"+K,type:"USHORT",value:z.start}),B=B.concat({name:"idDelta_"+K,type:"SHORT",value:z.delta}),_=_.concat({name:"idRangeOffset_"+K,type:"USHORT",value:z.offset}),z.glyphId!==void 0)E=E.concat({name:"glyph_"+K,type:"USHORT",value:z.glyphId})}else A+=1;if(!Q&&z.glyphIndex!==void 0)O=O.concat({name:"cmap12Start_"+K,type:"ULONG",value:z.start}),O=O.concat({name:"cmap12End_"+K,type:"ULONG",value:z.end}),O=O.concat({name:"cmap12Glyph_"+K,type:"ULONG",value:z.glyphIndex})}if(X.segCountX2=(U-A)*2,X.searchRange=Math.pow(2,Math.floor(Math.log(U-A)/Math.log(2)))*2,X.entrySelector=Math.log(X.searchRange/2)/Math.log(2),X.rangeShift=X.segCountX2-X.searchRange,X.fields=X.fields.concat(q),X.fields.push({name:"reservedPad",type:"USHORT",value:0}),X.fields=X.fields.concat(V),X.fields=X.fields.concat(B),X.fields=X.fields.concat(_),X.fields=X.fields.concat(E),X.cmap4Length=14+q.length*2+2+V.length*2+B.length*2+_.length*2+E.length*2,!Q){var F=16+O.length*4;X.cmap12Offset=20+X.cmap4Length,X.fields=X.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:F},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:O.length/3}]),X.fields=X.fields.concat(O)}return X}var T8={parse:b9,make:u9},p0=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],d9=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],l9=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],M0=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function P8(J){this.font=J}P8.prototype.charToGlyphIndex=function(J){var Q=J.codePointAt(0),K=this.font.glyphs;if(K)for(var Y=0;Y<K.length;Y+=1){var Z=K.get(Y);for(var X=0;X<Z.unicodes.length;X+=1)if(Z.unicodes[X]===Q)return Y}return null};function S8(J){this.cmap=J}S8.prototype.charToGlyphIndex=function(J){return this.cmap.glyphIndexMap[J.codePointAt(0)]||0};function t0(J,Q){this.encoding=J,this.charset=Q}t0.prototype.charToGlyphIndex=function(J){var Q=J.codePointAt(0),K=this.encoding[Q];return this.charset.indexOf(K)};function CJ(J){switch(J.version){case 1:this.names=M0.slice();break;case 2:this.names=new Array(J.numberOfGlyphs);for(var Q=0;Q<J.numberOfGlyphs;Q++)if(J.glyphNameIndex[Q]<M0.length)this.names[Q]=M0[J.glyphNameIndex[Q]];else this.names[Q]=J.names[J.glyphNameIndex[Q]-M0.length];break;case 2.5:this.names=new Array(J.numberOfGlyphs);for(var K=0;K<J.numberOfGlyphs;K++)this.names[K]=M0[K+J.glyphNameIndex[K]];break;case 3:this.names=[];break;default:this.names=[];break}}CJ.prototype.nameToGlyphIndex=function(J){return this.names.indexOf(J)};CJ.prototype.glyphIndexToName=function(J){return this.names[J]};function c9(J){var Q,K=J.tables.cmap.glyphIndexMap,Y=Object.keys(K);for(var Z=0;Z<Y.length;Z+=1){var X=Y[Z],H=K[X];Q=J.glyphs.get(H),Q.addUnicode(parseInt(X))}for(var W=0;W<J.glyphs.length;W+=1)if(Q=J.glyphs.get(W),J.cffEncoding)if(J.isCIDFont)Q.name="gid"+W;else Q.name=J.cffEncoding.charset[W];else if(J.glyphNames.names)Q.name=J.glyphNames.glyphIndexToName(W)}function r9(J){J._IndexToUnicodeMap={};var Q=J.tables.cmap.glyphIndexMap,K=Object.keys(Q);for(var Y=0;Y<K.length;Y+=1){var Z=K[Y],X=Q[Z];if(J._IndexToUnicodeMap[X]===void 0)J._IndexToUnicodeMap[X]={unicodes:[parseInt(Z)]};else J._IndexToUnicodeMap[X].unicodes.push(parseInt(Z))}}function p9(J,Q){if(Q.lowMemory)r9(J);else c9(J)}function o9(J,Q,K,Y,Z){J.beginPath(),J.moveTo(Q,K),J.lineTo(Y,Z),J.stroke()}var F0={line:o9};function n9(J,Q){var K=Q||new g;return{configurable:!0,get:function(){if(typeof K==="function")K=K();return K},set:function(Y){K=Y}}}function Q0(J){this.bindConstructorValues(J)}Q0.prototype.bindConstructorValues=function(J){if(this.index=J.index||0,this.name=J.name||null,this.unicode=J.unicode||void 0,this.unicodes=J.unicodes||J.unicode!==void 0?[J.unicode]:[],"xMin"in J)this.xMin=J.xMin;if("yMin"in J)this.yMin=J.yMin;if("xMax"in J)this.xMax=J.xMax;if("yMax"in J)this.yMax=J.yMax;if("advanceWidth"in J)this.advanceWidth=J.advanceWidth;Object.defineProperty(this,"path",n9(this,J.path))};Q0.prototype.addUnicode=function(J){if(this.unicodes.length===0)this.unicode=J;this.unicodes.push(J)};Q0.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Q0.prototype.getPath=function(J,Q,K,Y,Z){J=J!==void 0?J:0,Q=Q!==void 0?Q:0,K=K!==void 0?K:72;var X,H;if(!Y)Y={};var{xScale:W,yScale:U}=Y;if(Y.hinting&&Z&&Z.hinting)H=this.path&&Z.hinting.exec(this,K);if(H)X=Z.hinting.getCommands(H),J=Math.round(J),Q=Math.round(Q),W=U=1;else{X=this.path.commands;var A=1/(this.path.unitsPerEm||1000)*K;if(W===void 0)W=A;if(U===void 0)U=A}var q=new g;for(var V=0;V<X.length;V+=1){var B=X[V];if(B.type==="M")q.moveTo(J+B.x*W,Q+-B.y*U);else if(B.type==="L")q.lineTo(J+B.x*W,Q+-B.y*U);else if(B.type==="Q")q.quadraticCurveTo(J+B.x1*W,Q+-B.y1*U,J+B.x*W,Q+-B.y*U);else if(B.type==="C")q.curveTo(J+B.x1*W,Q+-B.y1*U,J+B.x2*W,Q+-B.y2*U,J+B.x*W,Q+-B.y*U);else if(B.type==="Z")q.closePath()}return q};Q0.prototype.getContours=function(){if(this.points===void 0)return[];var J=[],Q=[];for(var K=0;K<this.points.length;K+=1){var Y=this.points[K];if(Q.push(Y),Y.lastPointOfContour)J.push(Q),Q=[]}return C.argument(Q.length===0,"There are still points left in the current contour."),J};Q0.prototype.getMetrics=function(){var J=this.path.commands,Q=[],K=[];for(var Y=0;Y<J.length;Y+=1){var Z=J[Y];if(Z.type!=="Z")Q.push(Z.x),K.push(Z.y);if(Z.type==="Q"||Z.type==="C")Q.push(Z.x1),K.push(Z.y1);if(Z.type==="C")Q.push(Z.x2),K.push(Z.y2)}var X={xMin:Math.min.apply(null,Q),yMin:Math.min.apply(null,K),xMax:Math.max.apply(null,Q),yMax:Math.max.apply(null,K),leftSideBearing:this.leftSideBearing};if(!isFinite(X.xMin))X.xMin=0;if(!isFinite(X.xMax))X.xMax=this.advanceWidth;if(!isFinite(X.yMin))X.yMin=0;if(!isFinite(X.yMax))X.yMax=0;return X.rightSideBearing=this.advanceWidth-X.leftSideBearing-(X.xMax-X.xMin),X};Q0.prototype.draw=function(J,Q,K,Y,Z){this.getPath(Q,K,Y,Z).draw(J)};Q0.prototype.drawPoints=function(J,Q,K,Y){function Z(V,B,_,E){J.beginPath();for(var O=0;O<V.length;O+=1)J.moveTo(B+V[O].x*E,_+V[O].y*E),J.arc(B+V[O].x*E,_+V[O].y*E,2,0,Math.PI*2,!1);J.closePath(),J.fill()}Q=Q!==void 0?Q:0,K=K!==void 0?K:0,Y=Y!==void 0?Y:24;var X=1/this.path.unitsPerEm*Y,H=[],W=[],U=this.path;for(var A=0;A<U.commands.length;A+=1){var q=U.commands[A];if(q.x!==void 0)H.push({x:q.x,y:-q.y});if(q.x1!==void 0)W.push({x:q.x1,y:-q.y1});if(q.x2!==void 0)W.push({x:q.x2,y:-q.y2})}J.fillStyle="blue",Z(H,Q,K,X),J.fillStyle="red",Z(W,Q,K,X)};Q0.prototype.drawMetrics=function(J,Q,K,Y){var Z;Q=Q!==void 0?Q:0,K=K!==void 0?K:0,Y=Y!==void 0?Y:24,Z=1/this.path.unitsPerEm*Y,J.lineWidth=1,J.strokeStyle="black",F0.line(J,Q,-1e4,Q,1e4),F0.line(J,-1e4,K,1e4,K);var X=this.xMin||0,H=this.yMin||0,W=this.xMax||0,U=this.yMax||0,A=this.advanceWidth||0;J.strokeStyle="blue",F0.line(J,Q+X*Z,-1e4,Q+X*Z,1e4),F0.line(J,Q+W*Z,-1e4,Q+W*Z,1e4),F0.line(J,-1e4,K+-H*Z,1e4,K+-H*Z),F0.line(J,-1e4,K+-U*Z,1e4,K+-U*Z),J.strokeStyle="green",F0.line(J,Q+A*Z,-1e4,Q+A*Z,1e4)};function c0(J,Q,K){Object.defineProperty(J,Q,{get:function(){return J.path,J[K]},set:function(Y){J[K]=Y},enumerable:!0,configurable:!0})}function DJ(J,Q){if(this.font=J,this.glyphs={},Array.isArray(Q))for(var K=0;K<Q.length;K++){var Y=Q[K];Y.path.unitsPerEm=J.unitsPerEm,this.glyphs[K]=Y}this.length=Q&&Q.length||0}DJ.prototype.get=function(J){if(this.glyphs[J]===void 0){if(this.font._push(J),typeof this.glyphs[J]==="function")this.glyphs[J]=this.glyphs[J]();var Q=this.glyphs[J],K=this.font._IndexToUnicodeMap[J];if(K)for(var Y=0;Y<K.unicodes.length;Y++)Q.addUnicode(K.unicodes[Y]);if(this.font.cffEncoding)if(this.font.isCIDFont)Q.name="gid"+J;else Q.name=this.font.cffEncoding.charset[J];else if(this.font.glyphNames.names)Q.name=this.font.glyphNames.glyphIndexToName(J);this.glyphs[J].advanceWidth=this.font._hmtxTableData[J].advanceWidth,this.glyphs[J].leftSideBearing=this.font._hmtxTableData[J].leftSideBearing}else if(typeof this.glyphs[J]==="function")this.glyphs[J]=this.glyphs[J]();return this.glyphs[J]};DJ.prototype.push=function(J,Q){this.glyphs[J]=Q,this.length++};function i9(J,Q){return new Q0({index:Q,font:J})}function s9(J,Q,K,Y,Z,X){return function(){var H=new Q0({index:Q,font:J});return H.path=function(){K(H,Y,Z);var W=X(J.glyphs,H);return W.unitsPerEm=J.unitsPerEm,W},c0(H,"xMin","_xMin"),c0(H,"xMax","_xMax"),c0(H,"yMin","_yMin"),c0(H,"yMax","_yMax"),H}}function a9(J,Q,K,Y){return function(){var Z=new Q0({index:Q,font:J});return Z.path=function(){var X=K(J,Z,Y);return X.unitsPerEm=J.unitsPerEm,X},Z}}var q0={GlyphSet:DJ,glyphLoader:i9,ttfGlyphLoader:s9,cffGlyphLoader:a9};function I8(J,Q){if(J===Q)return!0;else if(Array.isArray(J)&&Array.isArray(Q)){if(J.length!==Q.length)return!1;for(var K=0;K<J.length;K+=1)if(!I8(J[K],Q[K]))return!1;return!0}else return!1}function LJ(J){var Q;if(J.length<1240)Q=107;else if(J.length<33900)Q=1131;else Q=32768;return Q}function G0(J,Q,K){var Y=[],Z=[],X=j.getCard16(J,Q),H,W;if(X!==0){var U=j.getByte(J,Q+2);H=Q+(X+1)*U+2;var A=Q+3;for(var q=0;q<X+1;q+=1)Y.push(j.getOffset(J,A,U)),A+=U;W=H+Y[X]}else W=Q+2;for(var V=0;V<Y.length-1;V+=1){var B=j.getBytes(J,H+Y[V],H+Y[V+1]);if(K)B=K(B);Z.push(B)}return{objects:Z,startOffset:Q,endOffset:W}}function e9(J,Q){var K=[],Y=j.getCard16(J,Q),Z,X;if(Y!==0){var H=j.getByte(J,Q+2);Z=Q+(Y+1)*H+2;var W=Q+3;for(var U=0;U<Y+1;U+=1)K.push(j.getOffset(J,W,H)),W+=H;X=Z+K[Y]}else X=Q+2;return{offsets:K,startOffset:Q,endOffset:X}}function t9(J,Q,K,Y,Z){var X=j.getCard16(K,Y),H=0;if(X!==0){var W=j.getByte(K,Y+2);H=Y+(X+1)*W+2}var U=j.getBytes(K,H+Q[J],H+Q[J+1]);if(Z)U=Z(U);return U}function JQ(J){var Q="",K=15,Y=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];while(!0){var Z=J.parseByte(),X=Z>>4,H=Z&15;if(X===K)break;if(Q+=Y[X],H===K)break;Q+=Y[H]}return parseFloat(Q)}function QQ(J,Q){var K,Y,Z,X;if(Q===28)return K=J.parseByte(),Y=J.parseByte(),K<<8|Y;if(Q===29)return K=J.parseByte(),Y=J.parseByte(),Z=J.parseByte(),X=J.parseByte(),K<<24|Y<<16|Z<<8|X;if(Q===30)return JQ(J);if(Q>=32&&Q<=246)return Q-139;if(Q>=247&&Q<=250)return K=J.parseByte(),(Q-247)*256+K+108;if(Q>=251&&Q<=254)return K=J.parseByte(),-(Q-251)*256-K-108;throw new Error("Invalid b0 "+Q)}function KQ(J){var Q={};for(var K=0;K<J.length;K+=1){var Y=J[K][0],Z=J[K][1],X=void 0;if(Z.length===1)X=Z[0];else X=Z;if(Q.hasOwnProperty(Y)&&!isNaN(Q[Y]))throw new Error("Object "+Q+" already has key "+Y);Q[Y]=X}return Q}function k8(J,Q,K){Q=Q!==void 0?Q:0;var Y=new j.Parser(J,Q),Z=[],X=[];K=K!==void 0?K:J.length;while(Y.relativeOffset<K){var H=Y.parseByte();if(H<=21){if(H===12)H=1200+Y.parseByte();Z.push([H,X]),X=[]}else X.push(QQ(Y,H))}return KQ(Z)}function S0(J,Q){if(Q<=390)Q=p0[Q];else Q=J[Q-391];return Q}function v8(J,Q,K){var Y={},Z;for(var X=0;X<Q.length;X+=1){var H=Q[X];if(Array.isArray(H.type)){var W=[];W.length=H.type.length;for(var U=0;U<H.type.length;U++){if(Z=J[H.op]!==void 0?J[H.op][U]:void 0,Z===void 0)Z=H.value!==void 0&&H.value[U]!==void 0?H.value[U]:null;if(H.type[U]==="SID")Z=S0(K,Z);W[U]=Z}Y[H.name]=W}else{if(Z=J[H.op],Z===void 0)Z=H.value!==void 0?H.value:null;if(H.type==="SID")Z=S0(K,Z);Y[H.name]=Z}}return Y}function YQ(J,Q){var K={};return K.formatMajor=j.getCard8(J,Q),K.formatMinor=j.getCard8(J,Q+1),K.size=j.getCard8(J,Q+2),K.offsetSize=j.getCard8(J,Q+3),K.startOffset=Q,K.endOffset=Q+4,K}var h8=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[0.001,0,0,0.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],y8=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function ZQ(J,Q){var K=k8(J,0,J.byteLength);return v8(K,h8,Q)}function x8(J,Q,K,Y){var Z=k8(J,Q,K);return v8(Z,y8,Y)}function lJ(J,Q,K,Y){var Z=[];for(var X=0;X<K.length;X+=1){var H=new DataView(new Uint8Array(K[X]).buffer),W=ZQ(H,Y);W._subrs=[],W._subrsBias=0,W._defaultWidthX=0,W._nominalWidthX=0;var U=W.private[0],A=W.private[1];if(U!==0&&A!==0){var q=x8(J,A+Q,U,Y);if(W._defaultWidthX=q.defaultWidthX,W._nominalWidthX=q.nominalWidthX,q.subrs!==0){var V=A+q.subrs,B=G0(J,V+Q);W._subrs=B.objects,W._subrsBias=LJ(W._subrs)}W._privateDict=q}Z.push(W)}return Z}function XQ(J,Q,K,Y){var Z,X,H=new j.Parser(J,Q);K-=1;var W=[".notdef"],U=H.parseCard8();if(U===0)for(var A=0;A<K;A+=1)Z=H.parseSID(),W.push(S0(Y,Z));else if(U===1)while(W.length<=K){Z=H.parseSID(),X=H.parseCard8();for(var q=0;q<=X;q+=1)W.push(S0(Y,Z)),Z+=1}else if(U===2)while(W.length<=K){Z=H.parseSID(),X=H.parseCard16();for(var V=0;V<=X;V+=1)W.push(S0(Y,Z)),Z+=1}else throw new Error("Unknown charset format "+U);return W}function HQ(J,Q,K){var Y,Z={},X=new j.Parser(J,Q),H=X.parseCard8();if(H===0){var W=X.parseCard8();for(var U=0;U<W;U+=1)Y=X.parseCard8(),Z[Y]=U}else if(H===1){var A=X.parseCard8();Y=1;for(var q=0;q<A;q+=1){var V=X.parseCard8(),B=X.parseCard8();for(var _=V;_<=V+B;_+=1)Z[_]=Y,Y+=1}}else throw new Error("Unknown encoding format "+H);return new t0(Z,K)}function cJ(J,Q,K){var Y,Z,X,H,W=new g,U=[],A=0,q=!1,V=!1,B=0,_=0,E,O,z,F;if(J.isCIDFont){var D=J.tables.cff.topDict._fdSelect[Q.index],N=J.tables.cff.topDict._fdArray[D];E=N._subrs,O=N._subrsBias,z=N._defaultWidthX,F=N._nominalWidthX}else E=J.tables.cff.topDict._subrs,O=J.tables.cff.topDict._subrsBias,z=J.tables.cff.topDict._defaultWidthX,F=J.tables.cff.topDict._nominalWidthX;var I=z;function P(R,b){if(V)W.closePath();W.moveTo(R,b),V=!0}function v(){var R=U.length%2!==0;if(R&&!q)I=U.shift()+F;A+=U.length>>1,U.length=0,q=!0}function S(R){var b,n,i,t,J0,m,f,l,c,r,u,o,h=0;while(h<R.length){var p=R[h];switch(h+=1,p){case 1:v();break;case 3:v();break;case 4:if(U.length>1&&!q)I=U.shift()+F,q=!0;_+=U.pop(),P(B,_);break;case 5:while(U.length>0)B+=U.shift(),_+=U.shift(),W.lineTo(B,_);break;case 6:while(U.length>0){if(B+=U.shift(),W.lineTo(B,_),U.length===0)break;_+=U.shift(),W.lineTo(B,_)}break;case 7:while(U.length>0){if(_+=U.shift(),W.lineTo(B,_),U.length===0)break;B+=U.shift(),W.lineTo(B,_)}break;case 8:while(U.length>0)Y=B+U.shift(),Z=_+U.shift(),X=Y+U.shift(),H=Z+U.shift(),B=X+U.shift(),_=H+U.shift(),W.curveTo(Y,Z,X,H,B,_);break;case 10:if(J0=U.pop()+O,m=E[J0],m)S(m);break;case 11:return;case 12:switch(p=R[h],h+=1,p){case 35:Y=B+U.shift(),Z=_+U.shift(),X=Y+U.shift(),H=Z+U.shift(),f=X+U.shift(),l=H+U.shift(),c=f+U.shift(),r=l+U.shift(),u=c+U.shift(),o=r+U.shift(),B=u+U.shift(),_=o+U.shift(),U.shift(),W.curveTo(Y,Z,X,H,f,l),W.curveTo(c,r,u,o,B,_);break;case 34:Y=B+U.shift(),Z=_,X=Y+U.shift(),H=Z+U.shift(),f=X+U.shift(),l=H,c=f+U.shift(),r=H,u=c+U.shift(),o=_,B=u+U.shift(),W.curveTo(Y,Z,X,H,f,l),W.curveTo(c,r,u,o,B,_);break;case 36:Y=B+U.shift(),Z=_+U.shift(),X=Y+U.shift(),H=Z+U.shift(),f=X+U.shift(),l=H,c=f+U.shift(),r=H,u=c+U.shift(),o=r+U.shift(),B=u+U.shift(),W.curveTo(Y,Z,X,H,f,l),W.curveTo(c,r,u,o,B,_);break;case 37:if(Y=B+U.shift(),Z=_+U.shift(),X=Y+U.shift(),H=Z+U.shift(),f=X+U.shift(),l=H+U.shift(),c=f+U.shift(),r=l+U.shift(),u=c+U.shift(),o=r+U.shift(),Math.abs(u-B)>Math.abs(o-_))B=u+U.shift();else _=o+U.shift();W.curveTo(Y,Z,X,H,f,l),W.curveTo(c,r,u,o,B,_);break;default:console.log("Glyph "+Q.index+": unknown operator 1200"+p),U.length=0}break;case 14:if(U.length>0&&!q)I=U.shift()+F,q=!0;if(V)W.closePath(),V=!1;break;case 18:v();break;case 19:case 20:v(),h+=A+7>>3;break;case 21:if(U.length>2&&!q)I=U.shift()+F,q=!0;_+=U.pop(),B+=U.pop(),P(B,_);break;case 22:if(U.length>1&&!q)I=U.shift()+F,q=!0;B+=U.pop(),P(B,_);break;case 23:v();break;case 24:while(U.length>2)Y=B+U.shift(),Z=_+U.shift(),X=Y+U.shift(),H=Z+U.shift(),B=X+U.shift(),_=H+U.shift(),W.curveTo(Y,Z,X,H,B,_);B+=U.shift(),_+=U.shift(),W.lineTo(B,_);break;case 25:while(U.length>6)B+=U.shift(),_+=U.shift(),W.lineTo(B,_);Y=B+U.shift(),Z=_+U.shift(),X=Y+U.shift(),H=Z+U.shift(),B=X+U.shift(),_=H+U.shift(),W.curveTo(Y,Z,X,H,B,_);break;case 26:if(U.length%2)B+=U.shift();while(U.length>0)Y=B,Z=_+U.shift(),X=Y+U.shift(),H=Z+U.shift(),B=X,_=H+U.shift(),W.curveTo(Y,Z,X,H,B,_);break;case 27:if(U.length%2)_+=U.shift();while(U.length>0)Y=B+U.shift(),Z=_,X=Y+U.shift(),H=Z+U.shift(),B=X+U.shift(),_=H,W.curveTo(Y,Z,X,H,B,_);break;case 28:b=R[h],n=R[h+1],U.push((b<<24|n<<16)>>16),h+=2;break;case 29:if(J0=U.pop()+J.gsubrsBias,m=J.gsubrs[J0],m)S(m);break;case 30:while(U.length>0){if(Y=B,Z=_+U.shift(),X=Y+U.shift(),H=Z+U.shift(),B=X+U.shift(),_=H+(U.length===1?U.shift():0),W.curveTo(Y,Z,X,H,B,_),U.length===0)break;Y=B+U.shift(),Z=_,X=Y+U.shift(),H=Z+U.shift(),_=H+U.shift(),B=X+(U.length===1?U.shift():0),W.curveTo(Y,Z,X,H,B,_)}break;case 31:while(U.length>0){if(Y=B+U.shift(),Z=_,X=Y+U.shift(),H=Z+U.shift(),_=H+U.shift(),B=X+(U.length===1?U.shift():0),W.curveTo(Y,Z,X,H,B,_),U.length===0)break;Y=B,Z=_+U.shift(),X=Y+U.shift(),H=Z+U.shift(),B=X+U.shift(),_=H+(U.length===1?U.shift():0),W.curveTo(Y,Z,X,H,B,_)}break;default:if(p<32)console.log("Glyph "+Q.index+": unknown operator "+p);else if(p<247)U.push(p-139);else if(p<251)b=R[h],h+=1,U.push((p-247)*256+b+108);else if(p<255)b=R[h],h+=1,U.push(-(p-251)*256-b-108);else b=R[h],n=R[h+1],i=R[h+2],t=R[h+3],h+=4,U.push((b<<24|n<<16|i<<8|t)/65536)}}}return S(K),Q.advanceWidth=I,W}function UQ(J,Q,K,Y){var Z=[],X,H=new j.Parser(J,Q),W=H.parseCard8();if(W===0)for(var U=0;U<K;U++){if(X=H.parseCard8(),X>=Y)throw new Error("CFF table CID Font FDSelect has bad FD index value "+X+" (FD count "+Y+")");Z.push(X)}else if(W===3){var A=H.parseCard16(),q=H.parseCard16();if(q!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+q);var V;for(var B=0;B<A;B++){if(X=H.parseCard8(),V=H.parseCard16(),X>=Y)throw new Error("CFF table CID Font FDSelect has bad FD index value "+X+" (FD count "+Y+")");if(V>K)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+V);for(;q<V;q++)Z.push(X);q=V}if(V!==K)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+V)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+W);return Z}function WQ(J,Q,K,Y){K.tables.cff={};var Z=YQ(J,Q),X=G0(J,Z.endOffset,j.bytesToString),H=G0(J,X.endOffset),W=G0(J,H.endOffset,j.bytesToString),U=G0(J,W.endOffset);K.gsubrs=U.objects,K.gsubrsBias=LJ(K.gsubrs);var A=lJ(J,Q,H.objects,W.objects);if(A.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+A.length);var q=A[0];if(K.tables.cff.topDict=q,q._privateDict)K.defaultWidthX=q._privateDict.defaultWidthX,K.nominalWidthX=q._privateDict.nominalWidthX;if(q.ros[0]!==void 0&&q.ros[1]!==void 0)K.isCIDFont=!0;if(K.isCIDFont){var{fdArray:V,fdSelect:B}=q;if(V===0||B===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");V+=Q;var _=G0(J,V),E=lJ(J,Q,_.objects,W.objects);q._fdArray=E,B+=Q,q._fdSelect=UQ(J,B,K.numGlyphs,E.length)}var O=Q+q.private[1],z=x8(J,O,q.private[0],W.objects);if(K.defaultWidthX=z.defaultWidthX,K.nominalWidthX=z.nominalWidthX,z.subrs!==0){var F=O+z.subrs,D=G0(J,F);K.subrs=D.objects,K.subrsBias=LJ(K.subrs)}else K.subrs=[],K.subrsBias=0;var N;if(Y.lowMemory)N=e9(J,Q+q.charStrings),K.nGlyphs=N.offsets.length;else N=G0(J,Q+q.charStrings),K.nGlyphs=N.objects.length;var I=XQ(J,Q+q.charset,K.nGlyphs,W.objects);if(q.encoding===0)K.cffEncoding=new t0(d9,I);else if(q.encoding===1)K.cffEncoding=new t0(l9,I);else K.cffEncoding=HQ(J,Q+q.encoding,I);if(K.encoding=K.encoding||K.cffEncoding,K.glyphs=new q0.GlyphSet(K),Y.lowMemory)K._push=function(S){var R=t9(S,N.offsets,J,Q+q.charStrings);K.glyphs.push(S,q0.cffGlyphLoader(K,S,cJ,R))};else for(var P=0;P<K.nGlyphs;P+=1){var v=N.objects[P];K.glyphs.push(P,q0.cffGlyphLoader(K,P,cJ,v))}}function m8(J,Q){var K,Y=p0.indexOf(J);if(Y>=0)K=Y;if(Y=Q.indexOf(J),Y>=0)K=Y+p0.length;else K=p0.length+Q.length,Q.push(J);return K}function AQ(){return new M.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function qQ(J){var Q=new M.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Q.names=[];for(var K=0;K<J.length;K+=1)Q.names.push({name:"name_"+K,type:"NAME",value:J[K]});return Q}function b8(J,Q,K){var Y={};for(var Z=0;Z<J.length;Z+=1){var X=J[Z],H=Q[X.name];if(H!==void 0&&!I8(H,X.value)){if(X.type==="SID")H=m8(H,K);Y[X.op]={name:X.name,type:X.type,value:H}}}return Y}function rJ(J,Q){var K=new M.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return K.dict=b8(h8,J,Q),K}function pJ(J){var Q=new M.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return Q.topDicts=[{name:"topDict_0",type:"TABLE",value:J}],Q}function BQ(J){var Q=new M.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Q.strings=[];for(var K=0;K<J.length;K+=1)Q.strings.push({name:"string_"+K,type:"STRING",value:J[K]});return Q}function VQ(){return new M.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function _Q(J,Q){var K=new M.Record("Charsets",[{name:"format",type:"Card8",value:0}]);for(var Y=0;Y<J.length;Y+=1){var Z=J[Y],X=m8(Z,Q);K.fields.push({name:"glyph_"+Y,type:"SID",value:X})}return K}function wQ(J){var Q=[],K=J.path;Q.push({name:"width",type:"NUMBER",value:J.advanceWidth});var Y=0,Z=0;for(var X=0;X<K.commands.length;X+=1){var H=void 0,W=void 0,U=K.commands[X];if(U.type==="Q"){var A=0.3333333333333333,q=0.6666666666666666;U={type:"C",x:U.x,y:U.y,x1:Math.round(A*Y+q*U.x1),y1:Math.round(A*Z+q*U.y1),x2:Math.round(A*U.x+q*U.x1),y2:Math.round(A*U.y+q*U.y1)}}if(U.type==="M")H=Math.round(U.x-Y),W=Math.round(U.y-Z),Q.push({name:"dx",type:"NUMBER",value:H}),Q.push({name:"dy",type:"NUMBER",value:W}),Q.push({name:"rmoveto",type:"OP",value:21}),Y=Math.round(U.x),Z=Math.round(U.y);else if(U.type==="L")H=Math.round(U.x-Y),W=Math.round(U.y-Z),Q.push({name:"dx",type:"NUMBER",value:H}),Q.push({name:"dy",type:"NUMBER",value:W}),Q.push({name:"rlineto",type:"OP",value:5}),Y=Math.round(U.x),Z=Math.round(U.y);else if(U.type==="C"){var V=Math.round(U.x1-Y),B=Math.round(U.y1-Z),_=Math.round(U.x2-U.x1),E=Math.round(U.y2-U.y1);H=Math.round(U.x-U.x2),W=Math.round(U.y-U.y2),Q.push({name:"dx1",type:"NUMBER",value:V}),Q.push({name:"dy1",type:"NUMBER",value:B}),Q.push({name:"dx2",type:"NUMBER",value:_}),Q.push({name:"dy2",type:"NUMBER",value:E}),Q.push({name:"dx",type:"NUMBER",value:H}),Q.push({name:"dy",type:"NUMBER",value:W}),Q.push({name:"rrcurveto",type:"OP",value:8}),Y=Math.round(U.x),Z=Math.round(U.y)}}return Q.push({name:"endchar",type:"OP",value:14}),Q}function GQ(J){var Q=new M.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]);for(var K=0;K<J.length;K+=1){var Y=J.get(K),Z=wQ(Y);Q.charStrings.push({name:Y.name,type:"CHARSTRING",value:Z})}return Q}function EQ(J,Q){var K=new M.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return K.dict=b8(y8,J,Q),K}function LQ(J,Q){var K=new M.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),Y=1/Q.unitsPerEm,Z={version:Q.version,fullName:Q.fullName,familyName:Q.familyName,weight:Q.weightName,fontBBox:Q.fontBBox||[0,0,0,0],fontMatrix:[Y,0,0,Y,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},X={},H=[],W;for(var U=1;U<J.length;U+=1)W=J.get(U),H.push(W.name);var A=[];K.header=AQ(),K.nameIndex=qQ([Q.postScriptName]);var q=rJ(Z,A);K.topDictIndex=pJ(q),K.globalSubrIndex=VQ(),K.charsets=_Q(H,A),K.charStringsIndex=GQ(J),K.privateDict=EQ(X,A),K.stringIndex=BQ(A);var V=K.header.sizeOf()+K.nameIndex.sizeOf()+K.topDictIndex.sizeOf()+K.stringIndex.sizeOf()+K.globalSubrIndex.sizeOf();return Z.charset=V,Z.encoding=0,Z.charStrings=Z.charset+K.charsets.sizeOf(),Z.private[1]=Z.charStrings+K.charStringsIndex.sizeOf(),q=rJ(Z,A),K.topDictIndex=pJ(q),K}var g8={parse:WQ,make:LQ};function zQ(J,Q){var K={},Y=new j.Parser(J,Q);return K.version=Y.parseVersion(),K.fontRevision=Math.round(Y.parseFixed()*1000)/1000,K.checkSumAdjustment=Y.parseULong(),K.magicNumber=Y.parseULong(),C.argument(K.magicNumber===1594834165,"Font header has wrong magic number."),K.flags=Y.parseUShort(),K.unitsPerEm=Y.parseUShort(),K.created=Y.parseLongDateTime(),K.modified=Y.parseLongDateTime(),K.xMin=Y.parseShort(),K.yMin=Y.parseShort(),K.xMax=Y.parseShort(),K.yMax=Y.parseShort(),K.macStyle=Y.parseUShort(),K.lowestRecPPEM=Y.parseUShort(),K.fontDirectionHint=Y.parseShort(),K.indexToLocFormat=Y.parseShort(),K.glyphDataFormat=Y.parseShort(),K}function OQ(J){var Q=Math.round(new Date().getTime()/1000)+2082844800,K=Q;if(J.createdTimestamp)K=J.createdTimestamp+2082844800;return new M.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1000},{name:"created",type:"LONGDATETIME",value:K},{name:"modified",type:"LONGDATETIME",value:Q},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],J)}var f8={parse:zQ,make:OQ};function FQ(J,Q){var K={},Y=new j.Parser(J,Q);return K.version=Y.parseVersion(),K.ascender=Y.parseShort(),K.descender=Y.parseShort(),K.lineGap=Y.parseShort(),K.advanceWidthMax=Y.parseUShort(),K.minLeftSideBearing=Y.parseShort(),K.minRightSideBearing=Y.parseShort(),K.xMaxExtent=Y.parseShort(),K.caretSlopeRise=Y.parseShort(),K.caretSlopeRun=Y.parseShort(),K.caretOffset=Y.parseShort(),Y.relativeOffset+=8,K.metricDataFormat=Y.parseShort(),K.numberOfHMetrics=Y.parseUShort(),K}function MQ(J){return new M.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],J)}var u8={parse:FQ,make:MQ};function NQ(J,Q,K,Y,Z){var X,H,W=new j.Parser(J,Q);for(var U=0;U<Y;U+=1){if(U<K)X=W.parseUShort(),H=W.parseShort();var A=Z.get(U);A.advanceWidth=X,A.leftSideBearing=H}}function $Q(J,Q,K,Y,Z){J._hmtxTableData={};var X,H,W=new j.Parser(Q,K);for(var U=0;U<Z;U+=1){if(U<Y)X=W.parseUShort(),H=W.parseShort();J._hmtxTableData[U]={advanceWidth:X,leftSideBearing:H}}}function jQ(J,Q,K,Y,Z,X,H){if(H.lowMemory)$Q(J,Q,K,Y,Z);else NQ(Q,K,Y,Z,X)}function RQ(J){var Q=new M.Table("hmtx",[]);for(var K=0;K<J.length;K+=1){var Y=J.get(K),Z=Y.advanceWidth||0,X=Y.leftSideBearing||0;Q.fields.push({name:"advanceWidth_"+K,type:"USHORT",value:Z}),Q.fields.push({name:"leftSideBearing_"+K,type:"SHORT",value:X})}return Q}var d8={parse:jQ,make:RQ};function CQ(J){var Q=new M.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:J.length}]),K="",Y=12+J.length*4;for(var Z=0;Z<J.length;++Z){var X=K.indexOf(J[Z]);if(X<0)X=K.length,K+=J[Z];Q.fields.push({name:"offset "+Z,type:"USHORT",value:Y+X}),Q.fields.push({name:"length "+Z,type:"USHORT",value:J[Z].length})}return Q.fields.push({name:"stringPool",type:"CHARARRAY",value:K}),Q}function DQ(J,Q){var K=new j.Parser(J,Q),Y=K.parseULong();C.argument(Y===1,"Unsupported ltag table version."),K.skip("uLong",1);var Z=K.parseULong(),X=[];for(var H=0;H<Z;H++){var W="",U=Q+K.parseUShort(),A=K.parseUShort();for(var q=U;q<U+A;++q)W+=String.fromCharCode(J.getInt8(q));X.push(W)}return X}var l8={make:CQ,parse:DQ};function TQ(J,Q){var K={},Y=new j.Parser(J,Q);if(K.version=Y.parseVersion(),K.numGlyphs=Y.parseUShort(),K.version===1)K.maxPoints=Y.parseUShort(),K.maxContours=Y.parseUShort(),K.maxCompositePoints=Y.parseUShort(),K.maxCompositeContours=Y.parseUShort(),K.maxZones=Y.parseUShort(),K.maxTwilightPoints=Y.parseUShort(),K.maxStorage=Y.parseUShort(),K.maxFunctionDefs=Y.parseUShort(),K.maxInstructionDefs=Y.parseUShort(),K.maxStackElements=Y.parseUShort(),K.maxSizeOfInstructions=Y.parseUShort(),K.maxComponentElements=Y.parseUShort(),K.maxComponentDepth=Y.parseUShort();return K}function PQ(J){return new M.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:J}])}var c8={parse:TQ,make:PQ},r8=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],p8={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},SQ={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},o8={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function IQ(J,Q,K){switch(J){case 0:if(Q===65535)return"und";else if(K)return K[Q];break;case 1:return p8[Q];case 3:return o8[Q]}return}var zJ="utf-16",kQ={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},vQ={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function n8(J,Q,K){switch(J){case 0:return zJ;case 1:return vQ[K]||kQ[Q];case 3:if(Q===1||Q===10)return zJ;break}return}function hQ(J,Q,K){var Y={},Z=new j.Parser(J,Q),X=Z.parseUShort(),H=Z.parseUShort(),W=Z.offset+Z.parseUShort();for(var U=0;U<H;U++){var A=Z.parseUShort(),q=Z.parseUShort(),V=Z.parseUShort(),B=Z.parseUShort(),_=r8[B]||B,E=Z.parseUShort(),O=Z.parseUShort(),z=IQ(A,V,K),F=n8(A,q,V);if(F!==void 0&&z!==void 0){var D=void 0;if(F===zJ)D=C0.UTF16(J,W+O,E);else D=C0.MACSTRING(J,W+O,E,F);if(D){var N=Y[_];if(N===void 0)N=Y[_]={};N[z]=D}}}var I=0;if(X===1)I=Z.parseUShort();return Y}function XJ(J){var Q={};for(var K in J)Q[J[K]]=parseInt(K);return Q}function oJ(J,Q,K,Y,Z,X){return new M.Record("NameRecord",[{name:"platformID",type:"USHORT",value:J},{name:"encodingID",type:"USHORT",value:Q},{name:"languageID",type:"USHORT",value:K},{name:"nameID",type:"USHORT",value:Y},{name:"length",type:"USHORT",value:Z},{name:"offset",type:"USHORT",value:X}])}function yQ(J,Q){var K=J.length,Y=Q.length-K+1;J:for(var Z=0;Z<Y;Z++)for(;Z<Y;Z++){for(var X=0;X<K;X++)if(Q[Z+X]!==J[X])continue J;return Z}return-1}function nJ(J,Q){var K=yQ(J,Q);if(K<0){K=Q.length;var Y=0,Z=J.length;for(;Y<Z;++Y)Q.push(J[Y])}return K}function xQ(J,Q){var K,Y=[],Z={},X=XJ(r8);for(var H in J){var W=X[H];if(W===void 0)W=H;if(K=parseInt(W),isNaN(K))throw new Error('Name table entry "'+H+'" does not exist, see nameTableNames for complete list.');Z[K]=J[H],Y.push(K)}var U=XJ(p8),A=XJ(o8),q=[],V=[];for(var B=0;B<Y.length;B++){K=Y[B];var _=Z[K];for(var E in _){var O=_[E],z=1,F=U[E],D=SQ[F],N=n8(z,D,F),I=L.MACSTRING(O,N);if(I===void 0){if(z=0,F=Q.indexOf(E),F<0)F=Q.length,Q.push(E);D=4,I=L.UTF16(O)}var P=nJ(I,V);q.push(oJ(z,D,F,K,I.length,P));var v=A[E];if(v!==void 0){var S=L.UTF16(O),R=nJ(S,V);q.push(oJ(3,1,v,K,S.length,R))}}}q.sort(function(i,t){return i.platformID-t.platformID||i.encodingID-t.encodingID||i.languageID-t.languageID||i.nameID-t.nameID});var b=new M.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:q.length},{name:"stringOffset",type:"USHORT",value:6+q.length*12}]);for(var n=0;n<q.length;n++)b.fields.push({name:"record_"+n,type:"RECORD",value:q[n]});return b.fields.push({name:"strings",type:"LITERAL",value:V}),b}var i8={parse:hQ,make:xQ},OJ=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66000,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function mQ(J){for(var Q=0;Q<OJ.length;Q+=1){var K=OJ[Q];if(J>=K.begin&&J<K.end)return Q}return-1}function bQ(J,Q){var K={},Y=new j.Parser(J,Q);K.version=Y.parseUShort(),K.xAvgCharWidth=Y.parseShort(),K.usWeightClass=Y.parseUShort(),K.usWidthClass=Y.parseUShort(),K.fsType=Y.parseUShort(),K.ySubscriptXSize=Y.parseShort(),K.ySubscriptYSize=Y.parseShort(),K.ySubscriptXOffset=Y.parseShort(),K.ySubscriptYOffset=Y.parseShort(),K.ySuperscriptXSize=Y.parseShort(),K.ySuperscriptYSize=Y.parseShort(),K.ySuperscriptXOffset=Y.parseShort(),K.ySuperscriptYOffset=Y.parseShort(),K.yStrikeoutSize=Y.parseShort(),K.yStrikeoutPosition=Y.parseShort(),K.sFamilyClass=Y.parseShort(),K.panose=[];for(var Z=0;Z<10;Z++)K.panose[Z]=Y.parseByte();if(K.ulUnicodeRange1=Y.parseULong(),K.ulUnicodeRange2=Y.parseULong(),K.ulUnicodeRange3=Y.parseULong(),K.ulUnicodeRange4=Y.parseULong(),K.achVendID=String.fromCharCode(Y.parseByte(),Y.parseByte(),Y.parseByte(),Y.parseByte()),K.fsSelection=Y.parseUShort(),K.usFirstCharIndex=Y.parseUShort(),K.usLastCharIndex=Y.parseUShort(),K.sTypoAscender=Y.parseShort(),K.sTypoDescender=Y.parseShort(),K.sTypoLineGap=Y.parseShort(),K.usWinAscent=Y.parseUShort(),K.usWinDescent=Y.parseUShort(),K.version>=1)K.ulCodePageRange1=Y.parseULong(),K.ulCodePageRange2=Y.parseULong();if(K.version>=2)K.sxHeight=Y.parseShort(),K.sCapHeight=Y.parseShort(),K.usDefaultChar=Y.parseUShort(),K.usBreakChar=Y.parseUShort(),K.usMaxContent=Y.parseUShort();return K}function gQ(J){return new M.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],J)}var FJ={parse:bQ,make:gQ,unicodeRanges:OJ,getUnicodeRange:mQ};function fQ(J,Q){var K={},Y=new j.Parser(J,Q);switch(K.version=Y.parseVersion(),K.italicAngle=Y.parseFixed(),K.underlinePosition=Y.parseShort(),K.underlineThickness=Y.parseShort(),K.isFixedPitch=Y.parseULong(),K.minMemType42=Y.parseULong(),K.maxMemType42=Y.parseULong(),K.minMemType1=Y.parseULong(),K.maxMemType1=Y.parseULong(),K.version){case 1:K.names=M0.slice();break;case 2:K.numberOfGlyphs=Y.parseUShort(),K.glyphNameIndex=new Array(K.numberOfGlyphs);for(var Z=0;Z<K.numberOfGlyphs;Z++)K.glyphNameIndex[Z]=Y.parseUShort();K.names=[];for(var X=0;X<K.numberOfGlyphs;X++)if(K.glyphNameIndex[X]>=M0.length){var H=Y.parseChar();K.names.push(Y.parseString(H))}break;case 2.5:K.numberOfGlyphs=Y.parseUShort(),K.offset=new Array(K.numberOfGlyphs);for(var W=0;W<K.numberOfGlyphs;W++)K.offset[W]=Y.parseChar();break}return K}function uQ(){return new M.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var s8={parse:fQ,make:uQ},K0=new Array(9);K0[1]=function J(){var Q=this.offset+this.relativeOffset,K=this.parseUShort();if(K===1)return{substFormat:1,coverage:this.parsePointer(w.coverage),deltaGlyphId:this.parseUShort()};else if(K===2)return{substFormat:2,coverage:this.parsePointer(w.coverage),substitute:this.parseOffset16List()};C.assert(!1,"0x"+Q.toString(16)+": lookup type 1 format must be 1 or 2.")};K0[2]=function J(){var Q=this.parseUShort();return C.argument(Q===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(w.coverage),sequences:this.parseListOfLists()}};K0[3]=function J(){var Q=this.parseUShort();return C.argument(Q===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(w.coverage),alternateSets:this.parseListOfLists()}};K0[4]=function J(){var Q=this.parseUShort();return C.argument(Q===1,"GSUB ligature table identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(w.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var R0={sequenceIndex:w.uShort,lookupListIndex:w.uShort};K0[5]=function J(){var Q=this.offset+this.relativeOffset,K=this.parseUShort();if(K===1)return{substFormat:K,coverage:this.parsePointer(w.coverage),ruleSets:this.parseListOfLists(function(){var X=this.parseUShort(),H=this.parseUShort();return{input:this.parseUShortList(X-1),lookupRecords:this.parseRecordList(H,R0)}})};else if(K===2)return{substFormat:K,coverage:this.parsePointer(w.coverage),classDef:this.parsePointer(w.classDef),classSets:this.parseListOfLists(function(){var X=this.parseUShort(),H=this.parseUShort();return{classes:this.parseUShortList(X-1),lookupRecords:this.parseRecordList(H,R0)}})};else if(K===3){var Y=this.parseUShort(),Z=this.parseUShort();return{substFormat:K,coverages:this.parseList(Y,w.pointer(w.coverage)),lookupRecords:this.parseRecordList(Z,R0)}}C.assert(!1,"0x"+Q.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};K0[6]=function J(){var Q=this.offset+this.relativeOffset,K=this.parseUShort();if(K===1)return{substFormat:1,coverage:this.parsePointer(w.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(R0)}})};else if(K===2)return{substFormat:2,coverage:this.parsePointer(w.coverage),backtrackClassDef:this.parsePointer(w.classDef),inputClassDef:this.parsePointer(w.classDef),lookaheadClassDef:this.parsePointer(w.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(R0)}})};else if(K===3)return{substFormat:3,backtrackCoverage:this.parseList(w.pointer(w.coverage)),inputCoverage:this.parseList(w.pointer(w.coverage)),lookaheadCoverage:this.parseList(w.pointer(w.coverage)),lookupRecords:this.parseRecordList(R0)};C.assert(!1,"0x"+Q.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};K0[7]=function J(){var Q=this.parseUShort();C.argument(Q===1,"GSUB Extension Substitution subtable identifier-format must be 1");var K=this.parseUShort(),Y=new w(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:K,extension:K0[K].call(Y)}};K0[8]=function J(){var Q=this.parseUShort();return C.argument(Q===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(w.coverage),backtrackCoverage:this.parseList(w.pointer(w.coverage)),lookaheadCoverage:this.parseList(w.pointer(w.coverage)),substitutes:this.parseUShortList()}};function dQ(J,Q){Q=Q||0;var K=new w(J,Q),Y=K.parseVersion(1);if(C.argument(Y===1||Y===1.1,"Unsupported GSUB table version."),Y===1)return{version:Y,scripts:K.parseScriptList(),features:K.parseFeatureList(),lookups:K.parseLookupList(K0)};else return{version:Y,scripts:K.parseScriptList(),features:K.parseFeatureList(),lookups:K.parseLookupList(K0),variations:K.parseFeatureVariationsList()}}var D0=new Array(9);D0[1]=function J(Q){if(Q.substFormat===1)return new M.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new M.Coverage(Q.coverage)},{name:"deltaGlyphID",type:"USHORT",value:Q.deltaGlyphId}]);else return new M.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new M.Coverage(Q.coverage)}].concat(M.ushortList("substitute",Q.substitute)))};D0[2]=function J(Q){return C.assert(Q.substFormat===1,"Lookup type 2 substFormat must be 1."),new M.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new M.Coverage(Q.coverage)}].concat(M.tableList("seqSet",Q.sequences,function(K){return new M.Table("sequenceSetTable",M.ushortList("sequence",K))})))};D0[3]=function J(Q){return C.assert(Q.substFormat===1,"Lookup type 3 substFormat must be 1."),new M.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new M.Coverage(Q.coverage)}].concat(M.tableList("altSet",Q.alternateSets,function(K){return new M.Table("alternateSetTable",M.ushortList("alternate",K))})))};D0[4]=function J(Q){return C.assert(Q.substFormat===1,"Lookup type 4 substFormat must be 1."),new M.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new M.Coverage(Q.coverage)}].concat(M.tableList("ligSet",Q.ligatureSets,function(K){return new M.Table("ligatureSetTable",M.tableList("ligature",K,function(Y){return new M.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:Y.ligGlyph}].concat(M.ushortList("component",Y.components,Y.components.length+1)))}))})))};D0[6]=function J(Q){if(Q.substFormat===1){var K=new M.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:Q.substFormat},{name:"coverage",type:"TABLE",value:new M.Coverage(Q.coverage)}].concat(M.tableList("chainRuleSet",Q.chainRuleSets,function(X){return new M.Table("chainRuleSetTable",M.tableList("chainRule",X,function(H){var W=M.ushortList("backtrackGlyph",H.backtrack,H.backtrack.length).concat(M.ushortList("inputGlyph",H.input,H.input.length+1)).concat(M.ushortList("lookaheadGlyph",H.lookahead,H.lookahead.length)).concat(M.ushortList("substitution",[],H.lookupRecords.length));return H.lookupRecords.forEach(function(U,A){W=W.concat({name:"sequenceIndex"+A,type:"USHORT",value:U.sequenceIndex}).concat({name:"lookupListIndex"+A,type:"USHORT",value:U.lookupListIndex})}),new M.Table("chainRuleTable",W)}))})));return K}else if(Q.substFormat===2)C.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(Q.substFormat===3){var Y=[{name:"substFormat",type:"USHORT",value:Q.substFormat}];Y.push({name:"backtrackGlyphCount",type:"USHORT",value:Q.backtrackCoverage.length}),Q.backtrackCoverage.forEach(function(X,H){Y.push({name:"backtrackCoverage"+H,type:"TABLE",value:new M.Coverage(X)})}),Y.push({name:"inputGlyphCount",type:"USHORT",value:Q.inputCoverage.length}),Q.inputCoverage.forEach(function(X,H){Y.push({name:"inputCoverage"+H,type:"TABLE",value:new M.Coverage(X)})}),Y.push({name:"lookaheadGlyphCount",type:"USHORT",value:Q.lookaheadCoverage.length}),Q.lookaheadCoverage.forEach(function(X,H){Y.push({name:"lookaheadCoverage"+H,type:"TABLE",value:new M.Coverage(X)})}),Y.push({name:"substitutionCount",type:"USHORT",value:Q.lookupRecords.length}),Q.lookupRecords.forEach(function(X,H){Y=Y.concat({name:"sequenceIndex"+H,type:"USHORT",value:X.sequenceIndex}).concat({name:"lookupListIndex"+H,type:"USHORT",value:X.lookupListIndex})});var Z=new M.Table("chainContextTable",Y);return Z}C.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function lQ(J){return new M.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new M.ScriptList(J.scripts)},{name:"features",type:"TABLE",value:new M.FeatureList(J.features)},{name:"lookups",type:"TABLE",value:new M.LookupList(J.lookups,D0)}])}var a8={parse:dQ,make:lQ};function cQ(J,Q){var K=new j.Parser(J,Q),Y=K.parseULong();C.argument(Y===1,"Unsupported META table version."),K.parseULong(),K.parseULong();var Z=K.parseULong(),X={};for(var H=0;H<Z;H++){var W=K.parseTag(),U=K.parseULong(),A=K.parseULong(),q=C0.UTF8(J,Q+U,A);X[W]=q}return X}function rQ(J){var Q=Object.keys(J).length,K="",Y=16+Q*12,Z=new M.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:Y},{name:"numTags",type:"ULONG",value:Q}]);for(var X in J){var H=K.length;K+=J[X],Z.fields.push({name:"tag "+X,type:"TAG",value:X}),Z.fields.push({name:"offset "+X,type:"ULONG",value:Y+H}),Z.fields.push({name:"length "+X,type:"ULONG",value:J[X].length})}return Z.fields.push({name:"stringPool",type:"CHARARRAY",value:K}),Z}var e8={parse:cQ,make:rQ};function iJ(J){return Math.log(J)/Math.log(2)|0}function TJ(J){while(J.length%4!==0)J.push(0);var Q=0;for(var K=0;K<J.length;K+=4)Q+=(J[K]<<24)+(J[K+1]<<16)+(J[K+2]<<8)+J[K+3];return Q%=Math.pow(2,32),Q}function sJ(J,Q,K,Y){return new M.Record("Table Record",[{name:"tag",type:"TAG",value:J!==void 0?J:""},{name:"checkSum",type:"ULONG",value:Q!==void 0?Q:0},{name:"offset",type:"ULONG",value:K!==void 0?K:0},{name:"length",type:"ULONG",value:Y!==void 0?Y:0}])}function t8(J){var Q=new M.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);Q.tables=J,Q.numTables=J.length;var K=Math.pow(2,iJ(Q.numTables));Q.searchRange=16*K,Q.entrySelector=iJ(K),Q.rangeShift=Q.numTables*16-Q.searchRange;var Y=[],Z=[],X=Q.sizeOf()+sJ().sizeOf()*Q.numTables;while(X%4!==0)X+=1,Z.push({name:"padding",type:"BYTE",value:0});for(var H=0;H<J.length;H+=1){var W=J[H];C.argument(W.tableName.length===4,"Table name"+W.tableName+" is invalid.");var U=W.sizeOf(),A=sJ(W.tableName,TJ(W.encode()),X,U);Y.push({name:A.tag+" Table Record",type:"RECORD",value:A}),Z.push({name:W.tableName+" table",type:"RECORD",value:W}),X+=U,C.argument(!isNaN(X),"Something went wrong calculating the offset.");while(X%4!==0)X+=1,Z.push({name:"padding",type:"BYTE",value:0})}return Y.sort(function(q,V){if(q.value.tag>V.value.tag)return 1;else return-1}),Q.fields=Q.fields.concat(Y),Q.fields=Q.fields.concat(Z),Q}function aJ(J,Q,K){for(var Y=0;Y<Q.length;Y+=1){var Z=J.charToGlyphIndex(Q[Y]);if(Z>0){var X=J.glyphs.get(Z);return X.getMetrics()}}return K}function pQ(J){var Q=0;for(var K=0;K<J.length;K+=1)Q+=J[K];return Q/J.length}function oQ(J){var Q=[],K=[],Y=[],Z=[],X=[],H=[],W=[],U,A=0,q=0,V=0,B=0,_=0;for(var E=0;E<J.glyphs.length;E+=1){var O=J.glyphs.get(E),z=O.unicode|0;if(isNaN(O.advanceWidth))throw new Error("Glyph "+O.name+" ("+E+"): advanceWidth is not a number.");if(U>z||U===void 0){if(z>0)U=z}if(A<z)A=z;var F=FJ.getUnicodeRange(z);if(F<32)q|=1<<F;else if(F<64)V|=1<<F-32;else if(F<96)B|=1<<F-64;else if(F<123)_|=1<<F-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(O.name===".notdef")continue;var D=O.getMetrics();Q.push(D.xMin),K.push(D.yMin),Y.push(D.xMax),Z.push(D.yMax),H.push(D.leftSideBearing),W.push(D.rightSideBearing),X.push(O.advanceWidth)}var N={xMin:Math.min.apply(null,Q),yMin:Math.min.apply(null,K),xMax:Math.max.apply(null,Y),yMax:Math.max.apply(null,Z),advanceWidthMax:Math.max.apply(null,X),advanceWidthAvg:pQ(X),minLeftSideBearing:Math.min.apply(null,H),maxLeftSideBearing:Math.max.apply(null,H),minRightSideBearing:Math.min.apply(null,W)};N.ascender=J.ascender,N.descender=J.descender;var I=f8.make({flags:3,unitsPerEm:J.unitsPerEm,xMin:N.xMin,yMin:N.yMin,xMax:N.xMax,yMax:N.yMax,lowestRecPPEM:3,createdTimestamp:J.createdTimestamp}),P=u8.make({ascender:N.ascender,descender:N.descender,advanceWidthMax:N.advanceWidthMax,minLeftSideBearing:N.minLeftSideBearing,minRightSideBearing:N.minRightSideBearing,xMaxExtent:N.maxLeftSideBearing+(N.xMax-N.xMin),numberOfHMetrics:J.glyphs.length}),v=c8.make(J.glyphs.length),S=FJ.make(Object.assign({xAvgCharWidth:Math.round(N.advanceWidthAvg),usFirstCharIndex:U,usLastCharIndex:A,ulUnicodeRange1:q,ulUnicodeRange2:V,ulUnicodeRange3:B,ulUnicodeRange4:_,sTypoAscender:N.ascender,sTypoDescender:N.descender,sTypoLineGap:0,usWinAscent:N.yMax,usWinDescent:Math.abs(N.yMin),ulCodePageRange1:1,sxHeight:aJ(J,"xyvw",{yMax:Math.round(N.ascender/2)}).yMax,sCapHeight:aJ(J,"HIKLEFJMNTZBDPRAGOQSUVWXY",N).yMax,usDefaultChar:J.hasChar(" ")?32:0,usBreakChar:J.hasChar(" ")?32:0},J.tables.os2)),R=d8.make(J.glyphs),b=T8.make(J.glyphs),n=J.getEnglishName("fontFamily"),i=J.getEnglishName("fontSubfamily"),t=n+" "+i,J0=J.getEnglishName("postScriptName");if(!J0)J0=n.replace(/\s/g,"")+"-"+i;var m={};for(var f in J.names)m[f]=J.names[f];if(!m.uniqueID)m.uniqueID={en:J.getEnglishName("manufacturer")+":"+t};if(!m.postScriptName)m.postScriptName={en:J0};if(!m.preferredFamily)m.preferredFamily=J.names.fontFamily;if(!m.preferredSubfamily)m.preferredSubfamily=J.names.fontSubfamily;var l=[],c=i8.make(m,l),r=l.length>0?l8.make(l):void 0,u=s8.make(),o=g8.make(J.glyphs,{version:J.getEnglishName("version"),fullName:t,familyName:n,weightName:i,postScriptName:J0,unitsPerEm:J.unitsPerEm,fontBBox:[0,N.yMin,N.ascender,N.advanceWidthMax]}),h=J.metas&&Object.keys(J.metas).length>0?e8.make(J.metas):void 0,p=[I,P,v,S,c,b,u,o,R];if(r)p.push(r);if(J.tables.gsub)p.push(a8.make(J.tables.gsub));if(h)p.push(h);var KJ=t8(p),G9=KJ.encode(),E9=TJ(G9),YJ=KJ.fields,hJ=!1;for(var f0=0;f0<YJ.length;f0+=1)if(YJ[f0].name==="head table"){YJ[f0].value.checkSumAdjustment=2981146554-E9,hJ=!0;break}if(!hJ)throw new Error("Could not find head table with checkSum to adjust.");return KJ}var nQ={make:t8,fontToTable:oQ,computeCheckSum:TJ};function HJ(J,Q){var K=0,Y=J.length-1;while(K<=Y){var Z=K+Y>>>1,X=J[Z].tag;if(X===Q)return Z;else if(X<Q)K=Z+1;else Y=Z-1}return-K-1}function eJ(J,Q){var K=0,Y=J.length-1;while(K<=Y){var Z=K+Y>>>1,X=J[Z];if(X===Q)return Z;else if(X<Q)K=Z+1;else Y=Z-1}return-K-1}function tJ(J,Q){var K,Y=0,Z=J.length-1;while(Y<=Z){var X=Y+Z>>>1;K=J[X];var H=K.start;if(H===Q)return K;else if(H<Q)Y=X+1;else Z=X-1}if(Y>0){if(K=J[Y-1],Q>K.end)return 0;return K}}function y0(J,Q){this.font=J,this.tableName=Q}y0.prototype={searchTag:HJ,binSearch:eJ,getTable:function(J){var Q=this.font.tables[this.tableName];if(!Q&&J)Q=this.font.tables[this.tableName]=this.createDefaultTable();return Q},getScriptNames:function(){var J=this.getTable();if(!J)return[];return J.scripts.map(function(Q){return Q.tag})},getDefaultScriptName:function(){var J=this.getTable();if(!J)return;var Q=!1;for(var K=0;K<J.scripts.length;K++){var Y=J.scripts[K].tag;if(Y==="DFLT")return Y;if(Y==="latn")Q=!0}if(Q)return"latn"},getScriptTable:function(J,Q){var K=this.getTable(Q);if(K){J=J||"DFLT";var Y=K.scripts,Z=HJ(K.scripts,J);if(Z>=0)return Y[Z].script;else if(Q){var X={tag:J,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return Y.splice(-1-Z,0,X),X.script}}},getLangSysTable:function(J,Q,K){var Y=this.getScriptTable(J,K);if(Y){if(!Q||Q==="dflt"||Q==="DFLT")return Y.defaultLangSys;var Z=HJ(Y.langSysRecords,Q);if(Z>=0)return Y.langSysRecords[Z].langSys;else if(K){var X={tag:Q,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return Y.langSysRecords.splice(-1-Z,0,X),X.langSys}}},getFeatureTable:function(J,Q,K,Y){var Z=this.getLangSysTable(J,Q,Y);if(Z){var X,H=Z.featureIndexes,W=this.font.tables[this.tableName].features;for(var U=0;U<H.length;U++)if(X=W[H[U]],X.tag===K)return X.feature;if(Y){var A=W.length;return C.assert(A===0||K>=W[A-1].tag,"Features must be added in alphabetical order."),X={tag:K,feature:{params:0,lookupListIndexes:[]}},W.push(X),H.push(A),X.feature}}},getLookupTables:function(J,Q,K,Y,Z){var X=this.getFeatureTable(J,Q,K,Z),H=[];if(X){var W,U=X.lookupListIndexes,A=this.font.tables[this.tableName].lookups;for(var q=0;q<U.length;q++)if(W=A[U[q]],W.lookupType===Y)H.push(W);if(H.length===0&&Z){W={lookupType:Y,lookupFlag:0,subtables:[],markFilteringSet:void 0};var V=A.length;return A.push(W),U.push(V),[W]}}return H},getGlyphClass:function(J,Q){switch(J.format){case 1:if(J.startGlyph<=Q&&Q<J.startGlyph+J.classes.length)return J.classes[Q-J.startGlyph];return 0;case 2:var K=tJ(J.ranges,Q);return K?K.classId:0}},getCoverageIndex:function(J,Q){switch(J.format){case 1:var K=eJ(J.glyphs,Q);return K>=0?K:-1;case 2:var Y=tJ(J.ranges,Q);return Y?Y.index+Q-Y.start:-1}},expandCoverage:function(J){if(J.format===1)return J.glyphs;else{var Q=[],K=J.ranges;for(var Y=0;Y<K.length;Y++){var Z=K[Y],X=Z.start,H=Z.end;for(var W=X;W<=H;W++)Q.push(W)}return Q}}};function x0(J){y0.call(this,J,"gpos")}x0.prototype=y0.prototype;x0.prototype.init=function(){var J=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(J)};x0.prototype.getKerningValue=function(J,Q,K){for(var Y=0;Y<J.length;Y++){var Z=J[Y].subtables;for(var X=0;X<Z.length;X++){var H=Z[X],W=this.getCoverageIndex(H.coverage,Q);if(W<0)continue;switch(H.posFormat){case 1:var U=H.pairSets[W];for(var A=0;A<U.length;A++){var q=U[A];if(q.secondGlyph===K)return q.value1&&q.value1.xAdvance||0}break;case 2:var V=this.getGlyphClass(H.classDef1,Q),B=this.getGlyphClass(H.classDef2,K),_=H.classRecords[V][B];return _.value1&&_.value1.xAdvance||0}}}return 0};x0.prototype.getKerningTables=function(J,Q){if(this.font.tables.gpos)return this.getLookupTables(J,Q,"kern",2)};function a(J){y0.call(this,J,"gsub")}function iQ(J,Q){var K=J.length;if(K!==Q.length)return!1;for(var Y=0;Y<K;Y++)if(J[Y]!==Q[Y])return!1;return!0}function PJ(J,Q,K){var Y=J.subtables;for(var Z=0;Z<Y.length;Z++){var X=Y[Z];if(X.substFormat===Q)return X}if(K)return Y.push(K),K;return}a.prototype=y0.prototype;a.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};a.prototype.getSingle=function(J,Q,K){var Y=[],Z=this.getLookupTables(Q,K,J,1);for(var X=0;X<Z.length;X++){var H=Z[X].subtables;for(var W=0;W<H.length;W++){var U=H[W],A=this.expandCoverage(U.coverage),q=void 0;if(U.substFormat===1){var V=U.deltaGlyphId;for(q=0;q<A.length;q++){var B=A[q];Y.push({sub:B,by:B+V})}}else{var _=U.substitute;for(q=0;q<A.length;q++)Y.push({sub:A[q],by:_[q]})}}}return Y};a.prototype.getMultiple=function(J,Q,K){var Y=[],Z=this.getLookupTables(Q,K,J,2);for(var X=0;X<Z.length;X++){var H=Z[X].subtables;for(var W=0;W<H.length;W++){var U=H[W],A=this.expandCoverage(U.coverage),q=void 0;for(q=0;q<A.length;q++){var V=A[q],B=U.sequences[q];Y.push({sub:V,by:B})}}}return Y};a.prototype.getAlternates=function(J,Q,K){var Y=[],Z=this.getLookupTables(Q,K,J,3);for(var X=0;X<Z.length;X++){var H=Z[X].subtables;for(var W=0;W<H.length;W++){var U=H[W],A=this.expandCoverage(U.coverage),q=U.alternateSets;for(var V=0;V<A.length;V++)Y.push({sub:A[V],by:q[V]})}}return Y};a.prototype.getLigatures=function(J,Q,K){var Y=[],Z=this.getLookupTables(Q,K,J,4);for(var X=0;X<Z.length;X++){var H=Z[X].subtables;for(var W=0;W<H.length;W++){var U=H[W],A=this.expandCoverage(U.coverage),q=U.ligatureSets;for(var V=0;V<A.length;V++){var B=A[V],_=q[V];for(var E=0;E<_.length;E++){var O=_[E];Y.push({sub:[B].concat(O.components),by:O.ligGlyph})}}}}return Y};a.prototype.addSingle=function(J,Q,K,Y){var Z=this.getLookupTables(K,Y,J,1,!0)[0],X=PJ(Z,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});C.assert(X.coverage.format===1,"Single: unable to modify coverage table format "+X.coverage.format);var H=Q.sub,W=this.binSearch(X.coverage.glyphs,H);if(W<0)W=-1-W,X.coverage.glyphs.splice(W,0,H),X.substitute.splice(W,0,0);X.substitute[W]=Q.by};a.prototype.addMultiple=function(J,Q,K,Y){C.assert(Q.by instanceof Array&&Q.by.length>1,'Multiple: "by" must be an array of two or more ids');var Z=this.getLookupTables(K,Y,J,2,!0)[0],X=PJ(Z,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});C.assert(X.coverage.format===1,"Multiple: unable to modify coverage table format "+X.coverage.format);var H=Q.sub,W=this.binSearch(X.coverage.glyphs,H);if(W<0)W=-1-W,X.coverage.glyphs.splice(W,0,H),X.sequences.splice(W,0,0);X.sequences[W]=Q.by};a.prototype.addAlternate=function(J,Q,K,Y){var Z=this.getLookupTables(K,Y,J,3,!0)[0],X=PJ(Z,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});C.assert(X.coverage.format===1,"Alternate: unable to modify coverage table format "+X.coverage.format);var H=Q.sub,W=this.binSearch(X.coverage.glyphs,H);if(W<0)W=-1-W,X.coverage.glyphs.splice(W,0,H),X.alternateSets.splice(W,0,0);X.alternateSets[W]=Q.by};a.prototype.addLigature=function(J,Q,K,Y){var Z=this.getLookupTables(K,Y,J,4,!0)[0],X=Z.subtables[0];if(!X)X={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},Z.subtables[0]=X;C.assert(X.coverage.format===1,"Ligature: unable to modify coverage table format "+X.coverage.format);var H=Q.sub[0],W=Q.sub.slice(1),U={ligGlyph:Q.by,components:W},A=this.binSearch(X.coverage.glyphs,H);if(A>=0){var q=X.ligatureSets[A];for(var V=0;V<q.length;V++)if(iQ(q[V].components,W))return;q.push(U)}else A=-1-A,X.coverage.glyphs.splice(A,0,H),X.ligatureSets.splice(A,0,[U])};a.prototype.getFeature=function(J,Q,K){if(/ss\d\d/.test(J))return this.getSingle(J,Q,K);switch(J){case"aalt":case"salt":return this.getSingle(J,Q,K).concat(this.getAlternates(J,Q,K));case"dlig":case"liga":case"rlig":return this.getLigatures(J,Q,K);case"ccmp":return this.getMultiple(J,Q,K).concat(this.getLigatures(J,Q,K));case"stch":return this.getMultiple(J,Q,K)}return};a.prototype.add=function(J,Q,K,Y){if(/ss\d\d/.test(J))return this.addSingle(J,Q,K,Y);switch(J){case"aalt":case"salt":if(typeof Q.by==="number")return this.addSingle(J,Q,K,Y);return this.addAlternate(J,Q,K,Y);case"dlig":case"liga":case"rlig":return this.addLigature(J,Q,K,Y);case"ccmp":if(Q.by instanceof Array)return this.addMultiple(J,Q,K,Y);return this.addLigature(J,Q,K,Y)}return};function sQ(){return typeof window!=="undefined"}function aQ(J){var Q=new Buffer(J.byteLength),K=new Uint8Array(J);for(var Y=0;Y<Q.length;++Y)Q[Y]=K[Y];return Q}function P0(J,Q){if(!J)throw Q}function J8(J,Q,K,Y,Z){var X;if((Q&Y)>0){if(X=J.parseByte(),(Q&Z)===0)X=-X;X=K+X}else if((Q&Z)>0)X=K;else X=K+J.parseShort();return X}function J9(J,Q,K){var Y=new j.Parser(Q,K);J.numberOfContours=Y.parseShort(),J._xMin=Y.parseShort(),J._yMin=Y.parseShort(),J._xMax=Y.parseShort(),J._yMax=Y.parseShort();var Z,X;if(J.numberOfContours>0){var H=J.endPointIndices=[];for(var W=0;W<J.numberOfContours;W+=1)H.push(Y.parseUShort());J.instructionLength=Y.parseUShort(),J.instructions=[];for(var U=0;U<J.instructionLength;U+=1)J.instructions.push(Y.parseByte());var A=H[H.length-1]+1;Z=[];for(var q=0;q<A;q+=1)if(X=Y.parseByte(),Z.push(X),(X&8)>0){var V=Y.parseByte();for(var B=0;B<V;B+=1)Z.push(X),q+=1}if(C.argument(Z.length===A,"Bad flags."),H.length>0){var _=[],E;if(A>0){for(var O=0;O<A;O+=1)X=Z[O],E={},E.onCurve=!!(X&1),E.lastPointOfContour=H.indexOf(O)>=0,_.push(E);var z=0;for(var F=0;F<A;F+=1)X=Z[F],E=_[F],E.x=J8(Y,X,z,2,16),z=E.x;var D=0;for(var N=0;N<A;N+=1)X=Z[N],E=_[N],E.y=J8(Y,X,D,4,32),D=E.y}J.points=_}else J.points=[]}else if(J.numberOfContours===0)J.points=[];else{J.isComposite=!0,J.points=[],J.components=[];var I=!0;while(I){Z=Y.parseUShort();var P={glyphIndex:Y.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};if((Z&1)>0)if((Z&2)>0)P.dx=Y.parseShort(),P.dy=Y.parseShort();else P.matchedPoints=[Y.parseUShort(),Y.parseUShort()];else if((Z&2)>0)P.dx=Y.parseChar(),P.dy=Y.parseChar();else P.matchedPoints=[Y.parseByte(),Y.parseByte()];if((Z&8)>0)P.xScale=P.yScale=Y.parseF2Dot14();else if((Z&64)>0)P.xScale=Y.parseF2Dot14(),P.yScale=Y.parseF2Dot14();else if((Z&128)>0)P.xScale=Y.parseF2Dot14(),P.scale01=Y.parseF2Dot14(),P.scale10=Y.parseF2Dot14(),P.yScale=Y.parseF2Dot14();J.components.push(P),I=!!(Z&32)}if(Z&256){J.instructionLength=Y.parseUShort(),J.instructions=[];for(var v=0;v<J.instructionLength;v+=1)J.instructions.push(Y.parseByte())}}}function UJ(J,Q){var K=[];for(var Y=0;Y<J.length;Y+=1){var Z=J[Y],X={x:Q.xScale*Z.x+Q.scale01*Z.y+Q.dx,y:Q.scale10*Z.x+Q.yScale*Z.y+Q.dy,onCurve:Z.onCurve,lastPointOfContour:Z.lastPointOfContour};K.push(X)}return K}function eQ(J){var Q=[],K=[];for(var Y=0;Y<J.length;Y+=1){var Z=J[Y];if(K.push(Z),Z.lastPointOfContour)Q.push(K),K=[]}return C.argument(K.length===0,"There are still points left in the current contour."),Q}function Q9(J){var Q=new g;if(!J)return Q;var K=eQ(J);for(var Y=0;Y<K.length;++Y){var Z=K[Y],X=null,H=Z[Z.length-1],W=Z[0];if(H.onCurve)Q.moveTo(H.x,H.y);else if(W.onCurve)Q.moveTo(W.x,W.y);else{var U={x:(H.x+W.x)*0.5,y:(H.y+W.y)*0.5};Q.moveTo(U.x,U.y)}for(var A=0;A<Z.length;++A)if(X=H,H=W,W=Z[(A+1)%Z.length],H.onCurve)Q.lineTo(H.x,H.y);else{var q=X,V=W;if(!X.onCurve)q={x:(H.x+X.x)*0.5,y:(H.y+X.y)*0.5};if(!W.onCurve)V={x:(H.x+W.x)*0.5,y:(H.y+W.y)*0.5};Q.quadraticCurveTo(H.x,H.y,V.x,V.y)}Q.closePath()}return Q}function K9(J,Q){if(Q.isComposite)for(var K=0;K<Q.components.length;K+=1){var Y=Q.components[K],Z=J.get(Y.glyphIndex);if(Z.getPath(),Z.points){var X=void 0;if(Y.matchedPoints===void 0)X=UJ(Z.points,Y);else{if(Y.matchedPoints[0]>Q.points.length-1||Y.matchedPoints[1]>Z.points.length-1)throw Error("Matched points out of range in "+Q.name);var H=Q.points[Y.matchedPoints[0]],W=Z.points[Y.matchedPoints[1]],U={xScale:Y.xScale,scale01:Y.scale01,scale10:Y.scale10,yScale:Y.yScale,dx:0,dy:0};W=UJ([W],U)[0],U.dx=H.x-W.x,U.dy=H.y-W.y,X=UJ(Z.points,U)}Q.points=Q.points.concat(X)}}return Q9(Q.points)}function tQ(J,Q,K,Y){var Z=new q0.GlyphSet(Y);for(var X=0;X<K.length-1;X+=1){var H=K[X],W=K[X+1];if(H!==W)Z.push(X,q0.ttfGlyphLoader(Y,X,J9,J,Q+H,K9));else Z.push(X,q0.glyphLoader(Y,X))}return Z}function J7(J,Q,K,Y){var Z=new q0.GlyphSet(Y);return Y._push=function(X){var H=K[X],W=K[X+1];if(H!==W)Z.push(X,q0.ttfGlyphLoader(Y,X,J9,J,Q+H,K9));else Z.push(X,q0.glyphLoader(Y,X))},Z}function Q7(J,Q,K,Y,Z){if(Z.lowMemory)return J7(J,Q,K,Y);else return tQ(J,Q,K,Y)}var Y9={getPath:Q9,parse:Q7},Z9,$0,X9,MJ;function H9(J){this.font=J,this.getCommands=function(Q){return Y9.getPath(Q).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function K7(J){return J}function U9(J){return Math.sign(J)*Math.round(Math.abs(J))}function Y7(J){return Math.sign(J)*Math.round(Math.abs(J*2))/2}function Z7(J){return Math.sign(J)*(Math.round(Math.abs(J)+0.5)-0.5)}function X7(J){return Math.sign(J)*Math.ceil(Math.abs(J))}function H7(J){return Math.sign(J)*Math.floor(Math.abs(J))}var W9=function(J){var Q=this.srPeriod,K=this.srPhase,Y=this.srThreshold,Z=1;if(J<0)J=-J,Z=-1;if(J+=Y-K,J=Math.trunc(J/Q)*Q,J+=K,J<0)return K*Z;return J*Z},A0={x:1,y:0,axis:"x",distance:function(J,Q,K,Y){return(K?J.xo:J.x)-(Y?Q.xo:Q.x)},interpolate:function(J,Q,K,Y){var Z,X,H,W,U,A,q;if(!Y||Y===this){if(Z=J.xo-Q.xo,X=J.xo-K.xo,U=Q.x-Q.xo,A=K.x-K.xo,H=Math.abs(Z),W=Math.abs(X),q=H+W,q===0){J.x=J.xo+(U+A)/2;return}J.x=J.xo+(U*W+A*H)/q;return}if(Z=Y.distance(J,Q,!0,!0),X=Y.distance(J,K,!0,!0),U=Y.distance(Q,Q,!1,!0),A=Y.distance(K,K,!1,!0),H=Math.abs(Z),W=Math.abs(X),q=H+W,q===0){A0.setRelative(J,J,(U+A)/2,Y,!0);return}A0.setRelative(J,J,(U*W+A*H)/q,Y,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(J,Q,K,Y,Z){if(!Y||Y===this){J.x=(Z?Q.xo:Q.x)+K;return}var X=Z?Q.xo:Q.x,H=Z?Q.yo:Q.y,W=X+K*Y.x,U=H+K*Y.y;J.x=W+(J.y-U)/Y.normalSlope},slope:0,touch:function(J){J.xTouched=!0},touched:function(J){return J.xTouched},untouch:function(J){J.xTouched=!1}},B0={x:0,y:1,axis:"y",distance:function(J,Q,K,Y){return(K?J.yo:J.y)-(Y?Q.yo:Q.y)},interpolate:function(J,Q,K,Y){var Z,X,H,W,U,A,q;if(!Y||Y===this){if(Z=J.yo-Q.yo,X=J.yo-K.yo,U=Q.y-Q.yo,A=K.y-K.yo,H=Math.abs(Z),W=Math.abs(X),q=H+W,q===0){J.y=J.yo+(U+A)/2;return}J.y=J.yo+(U*W+A*H)/q;return}if(Z=Y.distance(J,Q,!0,!0),X=Y.distance(J,K,!0,!0),U=Y.distance(Q,Q,!1,!0),A=Y.distance(K,K,!1,!0),H=Math.abs(Z),W=Math.abs(X),q=H+W,q===0){B0.setRelative(J,J,(U+A)/2,Y,!0);return}B0.setRelative(J,J,(U*W+A*H)/q,Y,!0)},normalSlope:0,setRelative:function(J,Q,K,Y,Z){if(!Y||Y===this){J.y=(Z?Q.yo:Q.y)+K;return}var X=Z?Q.xo:Q.x,H=Z?Q.yo:Q.y,W=X+K*Y.x,U=H+K*Y.y;J.y=U+Y.normalSlope*(J.x-W)},slope:Number.POSITIVE_INFINITY,touch:function(J){J.yTouched=!0},touched:function(J){return J.yTouched},untouch:function(J){J.yTouched=!1}};Object.freeze(A0);Object.freeze(B0);function m0(J,Q){this.x=J,this.y=Q,this.axis=void 0,this.slope=Q/J,this.normalSlope=-J/Q,Object.freeze(this)}m0.prototype.distance=function(J,Q,K,Y){return this.x*A0.distance(J,Q,K,Y)+this.y*B0.distance(J,Q,K,Y)};m0.prototype.interpolate=function(J,Q,K,Y){var Z,X,H,W,U,A,q;if(H=Y.distance(J,Q,!0,!0),W=Y.distance(J,K,!0,!0),Z=Y.distance(Q,Q,!1,!0),X=Y.distance(K,K,!1,!0),U=Math.abs(H),A=Math.abs(W),q=U+A,q===0){this.setRelative(J,J,(Z+X)/2,Y,!0);return}this.setRelative(J,J,(Z*A+X*U)/q,Y,!0)};m0.prototype.setRelative=function(J,Q,K,Y,Z){Y=Y||this;var X=Z?Q.xo:Q.x,H=Z?Q.yo:Q.y,W=X+K*Y.x,U=H+K*Y.y,A=Y.normalSlope,q=this.slope,V=J.x,B=J.y;J.x=(q*V-A*W+U-B)/(q-A),J.y=q*(J.x-V)+B};m0.prototype.touch=function(J){J.xTouched=!0,J.yTouched=!0};function b0(J,Q){var K=Math.sqrt(J*J+Q*Q);if(J/=K,Q/=K,J===1&&Q===0)return A0;else if(J===0&&Q===1)return B0;else return new m0(J,Q)}function V0(J,Q,K,Y){this.x=this.xo=Math.round(J*64)/64,this.y=this.yo=Math.round(Q*64)/64,this.lastPointOfContour=K,this.onCurve=Y,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}V0.prototype.nextTouched=function(J){var Q=this.nextPointOnContour;while(!J.touched(Q)&&Q!==this)Q=Q.nextPointOnContour;return Q};V0.prototype.prevTouched=function(J){var Q=this.prevPointOnContour;while(!J.touched(Q)&&Q!==this)Q=Q.prevPointOnContour;return Q};var h0=Object.freeze(new V0(0,0)),U7={cvCutIn:1.0625,deltaBase:9,deltaShift:0.125,loop:1,minDis:1,autoFlip:!0};function E0(J,Q){switch(this.env=J,this.stack=[],this.prog=Q,J){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=A0,this.round=U9}}H9.prototype.exec=function(J,Q){if(typeof Q!=="number")throw new Error("Point size is not a number!");if(this._errorState>2)return;var K=this.font,Y=this._prepState;if(!Y||Y.ppem!==Q){var Z=this._fpgmState;if(!Z){if(E0.prototype=U7,Z=this._fpgmState=new E0("fpgm",K.tables.fpgm),Z.funcs=[],Z.font=K,mK.DEBUG)console.log("---EXEC FPGM---"),Z.step=-1;try{$0(Z)}catch(A){console.log("Hinting error in FPGM:"+A),this._errorState=3;return}}E0.prototype=Z,Y=this._prepState=new E0("prep",K.tables.prep),Y.ppem=Q;var X=K.tables.cvt;if(X){var H=Y.cvt=new Array(X.length),W=Q/K.unitsPerEm;for(var U=0;U<X.length;U++)H[U]=X[U]*W}else Y.cvt=[];if(mK.DEBUG)console.log("---EXEC PREP---"),Y.step=-1;try{$0(Y)}catch(A){if(this._errorState<2)console.log("Hinting error in PREP:"+A);this._errorState=2}}if(this._errorState>1)return;try{return X9(J,Y)}catch(A){if(this._errorState<1)console.log("Hinting error:"+A),console.log("Note: further hinting errors are silenced");this._errorState=1;return}};X9=function(J,Q){var K=Q.ppem/Q.font.unitsPerEm,Y=K,Z=J.components,X,H,W;if(E0.prototype=Q,!Z){if(W=new E0("glyf",J.instructions),mK.DEBUG)console.log("---EXEC GLYPH---"),W.step=-1;MJ(J,W,K,Y),H=W.gZone}else{var U=Q.font;H=[],X=[];for(var A=0;A<Z.length;A++){var q=Z[A],V=U.glyphs.get(q.glyphIndex);if(W=new E0("glyf",V.instructions),mK.DEBUG)console.log("---EXEC COMP "+A+"---"),W.step=-1;MJ(V,W,K,Y);var B=Math.round(q.dx*K),_=Math.round(q.dy*Y),E=W.gZone,O=W.contours;for(var z=0;z<E.length;z++){var F=E[z];F.xTouched=F.yTouched=!1,F.xo=F.x=F.x+B,F.yo=F.y=F.y+_}var D=H.length;H.push.apply(H,E);for(var N=0;N<O.length;N++)X.push(O[N]+D)}if(J.instructions&&!W.inhibitGridFit){if(W=new E0("glyf",J.instructions),W.gZone=W.z0=W.z1=W.z2=H,W.contours=X,H.push(new V0(0,0),new V0(Math.round(J.advanceWidth*K),0)),mK.DEBUG)console.log("---EXEC COMPOSITE---"),W.step=-1;$0(W),H.length-=2}}return H};MJ=function(J,Q,K,Y){var Z=J.points||[],X=Z.length,H=Q.gZone=Q.z0=Q.z1=Q.z2=[],W=Q.contours=[],U;for(var A=0;A<X;A++)U=Z[A],H[A]=new V0(U.x*K,U.y*Y,U.lastPointOfContour,U.onCurve);var q,V;for(var B=0;B<X;B++){if(U=H[B],!q)q=U,W.push(B);if(U.lastPointOfContour)U.nextPointOnContour=q,q.prevPointOnContour=U,q=void 0;else V=H[B+1],U.nextPointOnContour=V,V.prevPointOnContour=U}if(Q.inhibitGridFit)return;if(mK.DEBUG){console.log("PROCESSING GLYPH",Q.stack);for(var _=0;_<X;_++)console.log(_,H[_].x,H[_].y)}if(H.push(new V0(0,0),new V0(Math.round(J.advanceWidth*K),0)),$0(Q),H.length-=2,mK.DEBUG){console.log("FINISHED GLYPH",Q.stack);for(var E=0;E<X;E++)console.log(E,H[E].x,H[E].y)}};$0=function(J){var Q=J.prog;if(!Q)return;var K=Q.length,Y;for(J.ip=0;J.ip<K;J.ip++){if(mK.DEBUG)J.step++;if(Y=Z9[Q[J.ip]],!Y)throw new Error("unknown instruction: 0x"+Number(Q[J.ip]).toString(16));Y(J)}};function JJ(J){var Q=J.tZone=new Array(J.gZone.length);for(var K=0;K<Q.length;K++)Q[K]=new V0(0,0)}function A9(J,Q){var{prog:K,ip:Y}=J,Z=1,X;do if(X=K[++Y],X===88)Z++;else if(X===89)Z--;else if(X===64)Y+=K[Y+1]+1;else if(X===65)Y+=2*K[Y+1]+1;else if(X>=176&&X<=183)Y+=X-176+1;else if(X>=184&&X<=191)Y+=(X-184+1)*2;else if(Q&&Z===1&&X===27)break;while(Z>0);J.ip=Y}function Q8(J,Q){if(mK.DEBUG)console.log(Q.step,"SVTCA["+J.axis+"]");Q.fv=Q.pv=Q.dpv=J}function K8(J,Q){if(mK.DEBUG)console.log(Q.step,"SPVTCA["+J.axis+"]");Q.pv=Q.dpv=J}function Y8(J,Q){if(mK.DEBUG)console.log(Q.step,"SFVTCA["+J.axis+"]");Q.fv=J}function Z8(J,Q){var K=Q.stack,Y=K.pop(),Z=K.pop(),X=Q.z2[Y],H=Q.z1[Z];if(mK.DEBUG)console.log("SPVTL["+J+"]",Y,Z);var W,U;if(!J)W=H.x-X.x,U=H.y-X.y;else W=X.y-H.y,U=H.x-X.x;Q.pv=Q.dpv=b0(W,U)}function X8(J,Q){var K=Q.stack,Y=K.pop(),Z=K.pop(),X=Q.z2[Y],H=Q.z1[Z];if(mK.DEBUG)console.log("SFVTL["+J+"]",Y,Z);var W,U;if(!J)W=H.x-X.x,U=H.y-X.y;else W=X.y-H.y,U=H.x-X.x;Q.fv=b0(W,U)}function W7(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"SPVFS[]",K,Y);J.pv=J.dpv=b0(Y,K)}function A7(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"SPVFS[]",K,Y);J.fv=b0(Y,K)}function q7(J){var{stack:Q,pv:K}=J;if(mK.DEBUG)console.log(J.step,"GPV[]");Q.push(K.x*16384),Q.push(K.y*16384)}function B7(J){var{stack:Q,fv:K}=J;if(mK.DEBUG)console.log(J.step,"GFV[]");Q.push(K.x*16384),Q.push(K.y*16384)}function V7(J){if(J.fv=J.pv,mK.DEBUG)console.log(J.step,"SFVTPV[]")}function _7(J){var Q=J.stack,K=Q.pop(),Y=Q.pop(),Z=Q.pop(),X=Q.pop(),H=Q.pop(),W=J.z0,U=J.z1,A=W[K],q=W[Y],V=U[Z],B=U[X],_=J.z2[H];if(mK.DEBUG)console.log("ISECT[], ",K,Y,Z,X,H);var{x:E,y:O}=A,z=q.x,F=q.y,D=V.x,N=V.y,I=B.x,P=B.y,v=(E-z)*(N-P)-(O-F)*(D-I),S=E*F-O*z,R=D*P-N*I;_.x=(S*(D-I)-R*(E-z))/v,_.y=(S*(N-P)-R*(O-F))/v}function w7(J){if(J.rp0=J.stack.pop(),mK.DEBUG)console.log(J.step,"SRP0[]",J.rp0)}function G7(J){if(J.rp1=J.stack.pop(),mK.DEBUG)console.log(J.step,"SRP1[]",J.rp1)}function E7(J){if(J.rp2=J.stack.pop(),mK.DEBUG)console.log(J.step,"SRP2[]",J.rp2)}function L7(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"SZP0[]",Q);switch(J.zp0=Q,Q){case 0:if(!J.tZone)JJ(J);J.z0=J.tZone;break;case 1:J.z0=J.gZone;break;default:throw new Error("Invalid zone pointer")}}function z7(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"SZP1[]",Q);switch(J.zp1=Q,Q){case 0:if(!J.tZone)JJ(J);J.z1=J.tZone;break;case 1:J.z1=J.gZone;break;default:throw new Error("Invalid zone pointer")}}function O7(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"SZP2[]",Q);switch(J.zp2=Q,Q){case 0:if(!J.tZone)JJ(J);J.z2=J.tZone;break;case 1:J.z2=J.gZone;break;default:throw new Error("Invalid zone pointer")}}function F7(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"SZPS[]",Q);switch(J.zp0=J.zp1=J.zp2=Q,Q){case 0:if(!J.tZone)JJ(J);J.z0=J.z1=J.z2=J.tZone;break;case 1:J.z0=J.z1=J.z2=J.gZone;break;default:throw new Error("Invalid zone pointer")}}function M7(J){if(J.loop=J.stack.pop(),mK.DEBUG)console.log(J.step,"SLOOP[]",J.loop)}function N7(J){if(mK.DEBUG)console.log(J.step,"RTG[]");J.round=U9}function $7(J){if(mK.DEBUG)console.log(J.step,"RTHG[]");J.round=Z7}function j7(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"SMD[]",Q);J.minDis=Q/64}function R7(J){if(mK.DEBUG)console.log(J.step,"ELSE[]");A9(J,!1)}function C7(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"JMPR[]",Q);J.ip+=Q-1}function D7(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"SCVTCI[]",Q);J.cvCutIn=Q/64}function T7(J){var Q=J.stack;if(mK.DEBUG)console.log(J.step,"DUP[]");Q.push(Q[Q.length-1])}function WJ(J){if(mK.DEBUG)console.log(J.step,"POP[]");J.stack.pop()}function P7(J){if(mK.DEBUG)console.log(J.step,"CLEAR[]");J.stack.length=0}function S7(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"SWAP[]");Q.push(K),Q.push(Y)}function I7(J){var Q=J.stack;if(mK.DEBUG)console.log(J.step,"DEPTH[]");Q.push(Q.length)}function k7(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"LOOPCALL[]",K,Y);var{ip:Z,prog:X}=J;J.prog=J.funcs[K];for(var H=0;H<Y;H++)if($0(J),mK.DEBUG)console.log(++J.step,H+1<Y?"next loopcall":"done loopcall",H);J.ip=Z,J.prog=X}function v7(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"CALL[]",Q);var{ip:K,prog:Y}=J;if(J.prog=J.funcs[Q],$0(J),J.ip=K,J.prog=Y,mK.DEBUG)console.log(++J.step,"returning from",Q)}function h7(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"CINDEX[]",K);Q.push(Q[Q.length-K])}function y7(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"MINDEX[]",K);Q.push(Q.splice(Q.length-K,1)[0])}function x7(J){if(J.env!=="fpgm")throw new Error("FDEF not allowed here");var{stack:Q,prog:K,ip:Y}=J,Z=Q.pop(),X=Y;if(mK.DEBUG)console.log(J.step,"FDEF[]",Z);while(K[++Y]!==45);J.ip=Y,J.funcs[Z]=K.slice(X+1,Y)}function H8(J,Q){var K=Q.stack.pop(),Y=Q.z0[K],Z=Q.fv,X=Q.pv;if(mK.DEBUG)console.log(Q.step,"MDAP["+J+"]",K);var H=X.distance(Y,h0);if(J)H=Q.round(H);Z.setRelative(Y,h0,H,X),Z.touch(Y),Q.rp0=Q.rp1=K}function U8(J,Q){var K=Q.z2,Y=K.length-2,Z,X,H;if(mK.DEBUG)console.log(Q.step,"IUP["+J.axis+"]");for(var W=0;W<Y;W++){if(Z=K[W],J.touched(Z))continue;if(X=Z.prevTouched(J),X===Z)continue;if(H=Z.nextTouched(J),X===H)J.setRelative(Z,Z,J.distance(X,X,!1,!0),J,!0);J.interpolate(Z,X,H,J)}}function W8(J,Q){var K=Q.stack,Y=J?Q.rp1:Q.rp2,Z=(J?Q.z0:Q.z1)[Y],X=Q.fv,H=Q.pv,W=Q.loop,U=Q.z2;while(W--){var A=K.pop(),q=U[A],V=H.distance(Z,Z,!1,!0);if(X.setRelative(q,q,V,H),X.touch(q),mK.DEBUG)console.log(Q.step,(Q.loop>1?"loop "+(Q.loop-W)+": ":"")+"SHP["+(J?"rp1":"rp2")+"]",A)}Q.loop=1}function A8(J,Q){var K=Q.stack,Y=J?Q.rp1:Q.rp2,Z=(J?Q.z0:Q.z1)[Y],X=Q.fv,H=Q.pv,W=K.pop(),U=Q.z2[Q.contours[W]],A=U;if(mK.DEBUG)console.log(Q.step,"SHC["+J+"]",W);var q=H.distance(Z,Z,!1,!0);do{if(A!==Z)X.setRelative(A,A,q,H);A=A.nextPointOnContour}while(A!==U)}function q8(J,Q){var K=Q.stack,Y=J?Q.rp1:Q.rp2,Z=(J?Q.z0:Q.z1)[Y],X=Q.fv,H=Q.pv,W=K.pop();if(mK.DEBUG)console.log(Q.step,"SHZ["+J+"]",W);var U;switch(W){case 0:U=Q.tZone;break;case 1:U=Q.gZone;break;default:throw new Error("Invalid zone")}var A,q=H.distance(Z,Z,!1,!0),V=U.length-2;for(var B=0;B<V;B++)A=U[B],X.setRelative(A,A,q,H)}function m7(J){var{stack:Q,loop:K,fv:Y}=J,Z=Q.pop()/64,X=J.z2;while(K--){var H=Q.pop(),W=X[H];if(mK.DEBUG)console.log(J.step,(J.loop>1?"loop "+(J.loop-K)+": ":"")+"SHPIX[]",H,Z);Y.setRelative(W,W,Z),Y.touch(W)}J.loop=1}function b7(J){var{stack:Q,rp1:K,rp2:Y,loop:Z}=J,X=J.z0[K],H=J.z1[Y],W=J.fv,U=J.dpv,A=J.z2;while(Z--){var q=Q.pop(),V=A[q];if(mK.DEBUG)console.log(J.step,(J.loop>1?"loop "+(J.loop-Z)+": ":"")+"IP[]",q,K,"<->",Y);W.interpolate(V,X,H,U),W.touch(V)}J.loop=1}function B8(J,Q){var K=Q.stack,Y=K.pop()/64,Z=K.pop(),X=Q.z1[Z],H=Q.z0[Q.rp0],W=Q.fv,U=Q.pv;if(W.setRelative(X,H,Y,U),W.touch(X),mK.DEBUG)console.log(Q.step,"MSIRP["+J+"]",Y,Z);if(Q.rp1=Q.rp0,Q.rp2=Z,J)Q.rp0=Z}function g7(J){var{stack:Q,rp0:K}=J,Y=J.z0[K],Z=J.loop,X=J.fv,H=J.pv,W=J.z1;while(Z--){var U=Q.pop(),A=W[U];if(mK.DEBUG)console.log(J.step,(J.loop>1?"loop "+(J.loop-Z)+": ":"")+"ALIGNRP[]",U);X.setRelative(A,Y,0,H),X.touch(A)}J.loop=1}function f7(J){if(mK.DEBUG)console.log(J.step,"RTDG[]");J.round=Y7}function V8(J,Q){var K=Q.stack,Y=K.pop(),Z=K.pop(),X=Q.z0[Z],H=Q.fv,W=Q.pv,U=Q.cvt[Y];if(mK.DEBUG)console.log(Q.step,"MIAP["+J+"]",Y,"(",U,")",Z);var A=W.distance(X,h0);if(J){if(Math.abs(A-U)<Q.cvCutIn)A=U;A=Q.round(A)}if(H.setRelative(X,h0,A,W),Q.zp0===0)X.xo=X.x,X.yo=X.y;H.touch(X),Q.rp0=Q.rp1=Z}function u7(J){var{prog:Q,ip:K,stack:Y}=J,Z=Q[++K];if(mK.DEBUG)console.log(J.step,"NPUSHB[]",Z);for(var X=0;X<Z;X++)Y.push(Q[++K]);J.ip=K}function d7(J){var{ip:Q,prog:K,stack:Y}=J,Z=K[++Q];if(mK.DEBUG)console.log(J.step,"NPUSHW[]",Z);for(var X=0;X<Z;X++){var H=K[++Q]<<8|K[++Q];if(H&32768)H=-((H^65535)+1);Y.push(H)}J.ip=Q}function l7(J){var{stack:Q,store:K}=J;if(!K)K=J.store=[];var Y=Q.pop(),Z=Q.pop();if(mK.DEBUG)console.log(J.step,"WS",Y,Z);K[Z]=Y}function c7(J){var{stack:Q,store:K}=J,Y=Q.pop();if(mK.DEBUG)console.log(J.step,"RS",Y);var Z=K&&K[Y]||0;Q.push(Z)}function r7(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"WCVTP",K,Y);J.cvt[Y]=K/64}function p7(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"RCVT",K);Q.push(J.cvt[K]*64)}function _8(J,Q){var K=Q.stack,Y=K.pop(),Z=Q.z2[Y];if(mK.DEBUG)console.log(Q.step,"GC["+J+"]",Y);K.push(Q.dpv.distance(Z,h0,J,!1)*64)}function w8(J,Q){var K=Q.stack,Y=K.pop(),Z=K.pop(),X=Q.z1[Y],H=Q.z0[Z],W=Q.dpv.distance(H,X,J,J);if(mK.DEBUG)console.log(Q.step,"MD["+J+"]",Y,Z,"->",W);Q.stack.push(Math.round(W*64))}function o7(J){if(mK.DEBUG)console.log(J.step,"MPPEM[]");J.stack.push(J.ppem)}function n7(J){if(mK.DEBUG)console.log(J.step,"FLIPON[]");J.autoFlip=!0}function i7(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"LT[]",K,Y);Q.push(Y<K?1:0)}function s7(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"LTEQ[]",K,Y);Q.push(Y<=K?1:0)}function a7(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"GT[]",K,Y);Q.push(Y>K?1:0)}function e7(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"GTEQ[]",K,Y);Q.push(Y>=K?1:0)}function t7(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"EQ[]",K,Y);Q.push(K===Y?1:0)}function J6(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"NEQ[]",K,Y);Q.push(K!==Y?1:0)}function Q6(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"ODD[]",K);Q.push(Math.trunc(K)%2?1:0)}function K6(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"EVEN[]",K);Q.push(Math.trunc(K)%2?0:1)}function Y6(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"IF[]",Q);if(!Q){if(A9(J,!0),mK.DEBUG)console.log(J.step,"EIF[]")}}function Z6(J){if(mK.DEBUG)console.log(J.step,"EIF[]")}function X6(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"AND[]",K,Y);Q.push(K&&Y?1:0)}function H6(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"OR[]",K,Y);Q.push(K||Y?1:0)}function U6(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"NOT[]",K);Q.push(K?0:1)}function AJ(J,Q){var K=Q.stack,Y=K.pop(),Z=Q.fv,X=Q.pv,H=Q.ppem,W=Q.deltaBase+(J-1)*16,U=Q.deltaShift,A=Q.z0;if(mK.DEBUG)console.log(Q.step,"DELTAP["+J+"]",Y,K);for(var q=0;q<Y;q++){var V=K.pop(),B=K.pop(),_=W+((B&240)>>4);if(_!==H)continue;var E=(B&15)-8;if(E>=0)E++;if(mK.DEBUG)console.log(Q.step,"DELTAPFIX",V,"by",E*U);var O=A[V];Z.setRelative(O,O,E*U,X)}}function W6(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"SDB[]",K);J.deltaBase=K}function A6(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"SDS[]",K);J.deltaShift=Math.pow(0.5,K)}function q6(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"ADD[]",K,Y);Q.push(Y+K)}function B6(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"SUB[]",K,Y);Q.push(Y-K)}function V6(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"DIV[]",K,Y);Q.push(Y*64/K)}function _6(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"MUL[]",K,Y);Q.push(Y*K/64)}function w6(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"ABS[]",K);Q.push(Math.abs(K))}function G6(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"NEG[]",K);Q.push(-K)}function E6(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"FLOOR[]",K);Q.push(Math.floor(K/64)*64)}function L6(J){var Q=J.stack,K=Q.pop();if(mK.DEBUG)console.log(J.step,"CEILING[]",K);Q.push(Math.ceil(K/64)*64)}function r0(J,Q){var K=Q.stack,Y=K.pop();if(mK.DEBUG)console.log(Q.step,"ROUND[]");K.push(Q.round(Y/64)*64)}function z6(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"WCVTF[]",K,Y);J.cvt[Y]=K*J.ppem/J.font.unitsPerEm}function qJ(J,Q){var K=Q.stack,Y=K.pop(),Z=Q.ppem,X=Q.deltaBase+(J-1)*16,H=Q.deltaShift;if(mK.DEBUG)console.log(Q.step,"DELTAC["+J+"]",Y,K);for(var W=0;W<Y;W++){var U=K.pop(),A=K.pop(),q=X+((A&240)>>4);if(q!==Z)continue;var V=(A&15)-8;if(V>=0)V++;var B=V*H;if(mK.DEBUG)console.log(Q.step,"DELTACFIX",U,"by",B);Q.cvt[U]+=B}}function O6(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"SROUND[]",Q);J.round=W9;var K;switch(Q&192){case 0:K=0.5;break;case 64:K=1;break;case 128:K=2;break;default:throw new Error("invalid SROUND value")}switch(J.srPeriod=K,Q&48){case 0:J.srPhase=0;break;case 16:J.srPhase=0.25*K;break;case 32:J.srPhase=0.5*K;break;case 48:J.srPhase=0.75*K;break;default:throw new Error("invalid SROUND value")}if(Q&=15,Q===0)J.srThreshold=0;else J.srThreshold=(Q/8-0.5)*K}function F6(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"S45ROUND[]",Q);J.round=W9;var K;switch(Q&192){case 0:K=Math.sqrt(2)/2;break;case 64:K=Math.sqrt(2);break;case 128:K=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(J.srPeriod=K,Q&48){case 0:J.srPhase=0;break;case 16:J.srPhase=0.25*K;break;case 32:J.srPhase=0.5*K;break;case 48:J.srPhase=0.75*K;break;default:throw new Error("invalid S45ROUND value")}if(Q&=15,Q===0)J.srThreshold=0;else J.srThreshold=(Q/8-0.5)*K}function M6(J){if(mK.DEBUG)console.log(J.step,"ROFF[]");J.round=K7}function N6(J){if(mK.DEBUG)console.log(J.step,"RUTG[]");J.round=X7}function $6(J){if(mK.DEBUG)console.log(J.step,"RDTG[]");J.round=H7}function j6(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"SCANCTRL[]",Q)}function G8(J,Q){var K=Q.stack,Y=K.pop(),Z=K.pop(),X=Q.z2[Y],H=Q.z1[Z];if(mK.DEBUG)console.log(Q.step,"SDPVTL["+J+"]",Y,Z);var W,U;if(!J)W=H.x-X.x,U=H.y-X.y;else W=X.y-H.y,U=H.x-X.x;Q.dpv=b0(W,U)}function R6(J){var Q=J.stack,K=Q.pop(),Y=0;if(mK.DEBUG)console.log(J.step,"GETINFO[]",K);if(K&1)Y=35;if(K&32)Y|=4096;Q.push(Y)}function C6(J){var Q=J.stack,K=Q.pop(),Y=Q.pop(),Z=Q.pop();if(mK.DEBUG)console.log(J.step,"ROLL[]");Q.push(Y),Q.push(K),Q.push(Z)}function D6(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"MAX[]",K,Y);Q.push(Math.max(Y,K))}function T6(J){var Q=J.stack,K=Q.pop(),Y=Q.pop();if(mK.DEBUG)console.log(J.step,"MIN[]",K,Y);Q.push(Math.min(Y,K))}function P6(J){var Q=J.stack.pop();if(mK.DEBUG)console.log(J.step,"SCANTYPE[]",Q)}function S6(J){var Q=J.stack.pop(),K=J.stack.pop();if(mK.DEBUG)console.log(J.step,"INSTCTRL[]",Q,K);switch(Q){case 1:J.inhibitGridFit=!!K;return;case 2:J.ignoreCvt=!!K;return;default:throw new Error("invalid INSTCTRL[] selector")}}function _0(J,Q){var{stack:K,prog:Y,ip:Z}=Q;if(mK.DEBUG)console.log(Q.step,"PUSHB["+J+"]");for(var X=0;X<J;X++)K.push(Y[++Z]);Q.ip=Z}function w0(J,Q){var{ip:K,prog:Y,stack:Z}=Q;if(mK.DEBUG)console.log(Q.ip,"PUSHW["+J+"]");for(var X=0;X<J;X++){var H=Y[++K]<<8|Y[++K];if(H&32768)H=-((H^65535)+1);Z.push(H)}Q.ip=K}function $(J,Q,K,Y,Z,X){var H=X.stack,W=J&&H.pop(),U=H.pop(),A=X.rp0,q=X.z0[A],V=X.z1[U],B=X.minDis,_=X.fv,E=X.dpv,O,z,F,D;if(z=O=E.distance(V,q,!0,!0),F=z>=0?1:-1,z=Math.abs(z),J){if(D=X.cvt[W],Y&&Math.abs(z-D)<X.cvCutIn)z=D}if(K&&z<B)z=B;if(Y)z=X.round(z);if(_.setRelative(V,q,F*z,E),_.touch(V),mK.DEBUG)console.log(X.step,(J?"MIRP[":"MDRP[")+(Q?"M":"m")+(K?">":"_")+(Y?"R":"_")+(Z===0?"Gr":Z===1?"Bl":Z===2?"Wh":"")+"]",J?W+"("+X.cvt[W]+","+D+")":"",U,"(d =",O,"->",F*z,")");if(X.rp1=X.rp0,X.rp2=U,Q)X.rp0=U}Z9=[Q8.bind(void 0,B0),Q8.bind(void 0,A0),K8.bind(void 0,B0),K8.bind(void 0,A0),Y8.bind(void 0,B0),Y8.bind(void 0,A0),Z8.bind(void 0,0),Z8.bind(void 0,1),X8.bind(void 0,0),X8.bind(void 0,1),W7,A7,q7,B7,V7,_7,w7,G7,E7,L7,z7,O7,F7,M7,N7,$7,j7,R7,C7,D7,void 0,void 0,T7,WJ,P7,S7,I7,h7,y7,void 0,void 0,void 0,k7,v7,x7,void 0,H8.bind(void 0,0),H8.bind(void 0,1),U8.bind(void 0,B0),U8.bind(void 0,A0),W8.bind(void 0,0),W8.bind(void 0,1),A8.bind(void 0,0),A8.bind(void 0,1),q8.bind(void 0,0),q8.bind(void 0,1),m7,b7,B8.bind(void 0,0),B8.bind(void 0,1),g7,f7,V8.bind(void 0,0),V8.bind(void 0,1),u7,d7,l7,c7,r7,p7,_8.bind(void 0,0),_8.bind(void 0,1),void 0,w8.bind(void 0,0),w8.bind(void 0,1),o7,void 0,n7,void 0,void 0,i7,s7,a7,e7,t7,J6,Q6,K6,Y6,Z6,X6,H6,U6,AJ.bind(void 0,1),W6,A6,q6,B6,V6,_6,w6,G6,E6,L6,r0.bind(void 0,0),r0.bind(void 0,1),r0.bind(void 0,2),r0.bind(void 0,3),void 0,void 0,void 0,void 0,z6,AJ.bind(void 0,2),AJ.bind(void 0,3),qJ.bind(void 0,1),qJ.bind(void 0,2),qJ.bind(void 0,3),O6,F6,void 0,void 0,M6,void 0,N6,$6,WJ,WJ,void 0,void 0,void 0,void 0,void 0,j6,G8.bind(void 0,0),G8.bind(void 0,1),R6,void 0,C6,D6,T6,P6,S6,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,_0.bind(void 0,1),_0.bind(void 0,2),_0.bind(void 0,3),_0.bind(void 0,4),_0.bind(void 0,5),_0.bind(void 0,6),_0.bind(void 0,7),_0.bind(void 0,8),w0.bind(void 0,1),w0.bind(void 0,2),w0.bind(void 0,3),w0.bind(void 0,4),w0.bind(void 0,5),w0.bind(void 0,6),w0.bind(void 0,7),w0.bind(void 0,8),$.bind(void 0,0,0,0,0,0),$.bind(void 0,0,0,0,0,1),$.bind(void 0,0,0,0,0,2),$.bind(void 0,0,0,0,0,3),$.bind(void 0,0,0,0,1,0),$.bind(void 0,0,0,0,1,1),$.bind(void 0,0,0,0,1,2),$.bind(void 0,0,0,0,1,3),$.bind(void 0,0,0,1,0,0),$.bind(void 0,0,0,1,0,1),$.bind(void 0,0,0,1,0,2),$.bind(void 0,0,0,1,0,3),$.bind(void 0,0,0,1,1,0),$.bind(void 0,0,0,1,1,1),$.bind(void 0,0,0,1,1,2),$.bind(void 0,0,0,1,1,3),$.bind(void 0,0,1,0,0,0),$.bind(void 0,0,1,0,0,1),$.bind(void 0,0,1,0,0,2),$.bind(void 0,0,1,0,0,3),$.bind(void 0,0,1,0,1,0),$.bind(void 0,0,1,0,1,1),$.bind(void 0,0,1,0,1,2),$.bind(void 0,0,1,0,1,3),$.bind(void 0,0,1,1,0,0),$.bind(void 0,0,1,1,0,1),$.bind(void 0,0,1,1,0,2),$.bind(void 0,0,1,1,0,3),$.bind(void 0,0,1,1,1,0),$.bind(void 0,0,1,1,1,1),$.bind(void 0,0,1,1,1,2),$.bind(void 0,0,1,1,1,3),$.bind(void 0,1,0,0,0,0),$.bind(void 0,1,0,0,0,1),$.bind(void 0,1,0,0,0,2),$.bind(void 0,1,0,0,0,3),$.bind(void 0,1,0,0,1,0),$.bind(void 0,1,0,0,1,1),$.bind(void 0,1,0,0,1,2),$.bind(void 0,1,0,0,1,3),$.bind(void 0,1,0,1,0,0),$.bind(void 0,1,0,1,0,1),$.bind(void 0,1,0,1,0,2),$.bind(void 0,1,0,1,0,3),$.bind(void 0,1,0,1,1,0),$.bind(void 0,1,0,1,1,1),$.bind(void 0,1,0,1,1,2),$.bind(void 0,1,0,1,1,3),$.bind(void 0,1,1,0,0,0),$.bind(void 0,1,1,0,0,1),$.bind(void 0,1,1,0,0,2),$.bind(void 0,1,1,0,0,3),$.bind(void 0,1,1,0,1,0),$.bind(void 0,1,1,0,1,1),$.bind(void 0,1,1,0,1,2),$.bind(void 0,1,1,0,1,3),$.bind(void 0,1,1,1,0,0),$.bind(void 0,1,1,1,0,1),$.bind(void 0,1,1,1,0,2),$.bind(void 0,1,1,1,0,3),$.bind(void 0,1,1,1,1,0),$.bind(void 0,1,1,1,1,1),$.bind(void 0,1,1,1,1,2),$.bind(void 0,1,1,1,1,3)];function T0(J){this.char=J,this.state={},this.activeState=null}function SJ(J,Q,K){this.contextName=K,this.startIndex=J,this.endOffset=Q}function I6(J,Q,K){this.contextName=J,this.openRange=null,this.ranges=[],this.checkStart=Q,this.checkEnd=K}function Y0(J,Q){this.context=J,this.index=Q,this.length=J.length,this.current=J[Q],this.backtrack=J.slice(0,Q),this.lookahead=J.slice(Q+1)}function QJ(J){this.eventId=J,this.subscribers=[]}function k6(J){var Q=this,K=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];if(K.forEach(function(Z){Object.defineProperty(Q.events,Z,{value:new QJ(Z)})}),J)K.forEach(function(Z){var X=J[Z];if(typeof X==="function")Q.events[Z].subscribe(X)});var Y=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];Y.forEach(function(Z){Q.events[Z].subscribe(Q.updateContextsRanges)})}function y(J){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],k6.call(this,J)}T0.prototype.setState=function(J,Q){return this.state[J]=Q,this.activeState={key:J,value:this.state[J]},this.activeState};T0.prototype.getState=function(J){return this.state[J]||null};y.prototype.inboundIndex=function(J){return J>=0&&J<this.tokens.length};y.prototype.composeRUD=function(J){var Q=this,K=!0,Y=J.map(function(X){return Q[X[0]].apply(Q,X.slice(1).concat(K))}),Z=function(X){return typeof X==="object"&&X.hasOwnProperty("FAIL")};if(Y.every(Z))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:Y.filter(Z)};this.dispatch("composeRUD",[Y.filter(function(X){return!Z(X)})])};y.prototype.replaceRange=function(J,Q,K,Y){Q=Q!==null?Q:this.tokens.length;var Z=K.every(function(H){return H instanceof T0});if(!isNaN(J)&&this.inboundIndex(J)&&Z){var X=this.tokens.splice.apply(this.tokens,[J,Q].concat(K));if(!Y)this.dispatch("replaceToken",[J,Q,K]);return[X,K]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};y.prototype.replaceToken=function(J,Q,K){if(!isNaN(J)&&this.inboundIndex(J)&&Q instanceof T0){var Y=this.tokens.splice(J,1,Q);if(!K)this.dispatch("replaceToken",[J,Q]);return[Y[0],Q]}else return{FAIL:"replaceToken: invalid token or index."}};y.prototype.removeRange=function(J,Q,K){Q=!isNaN(Q)?Q:this.tokens.length;var Y=this.tokens.splice(J,Q);if(!K)this.dispatch("removeRange",[Y,J,Q]);return Y};y.prototype.removeToken=function(J,Q){if(!isNaN(J)&&this.inboundIndex(J)){var K=this.tokens.splice(J,1);if(!Q)this.dispatch("removeToken",[K,J]);return K}else return{FAIL:"removeToken: invalid token index."}};y.prototype.insertToken=function(J,Q,K){var Y=J.every(function(Z){return Z instanceof T0});if(Y){if(this.tokens.splice.apply(this.tokens,[Q,0].concat(J)),!K)this.dispatch("insertToken",[J,Q]);return J}else return{FAIL:"insertToken: invalid token(s)."}};y.prototype.registerModifier=function(J,Q,K){this.events.newToken.subscribe(function(Y,Z){var X=[Y,Z],H=Q===null||Q.apply(this,X)===!0,W=[Y,Z];if(H){var U=K.apply(this,W);Y.setState(J,U)}}),this.registeredModifiers.push(J)};QJ.prototype.subscribe=function(J){if(typeof J==="function")return this.subscribers.push(J)-1;else return{FAIL:"invalid '"+this.eventId+"' event handler"}};QJ.prototype.unsubscribe=function(J){this.subscribers.splice(J,1)};Y0.prototype.setCurrentIndex=function(J){this.index=J,this.current=this.context[J],this.backtrack=this.context.slice(0,J),this.lookahead=this.context.slice(J+1)};Y0.prototype.get=function(J){switch(!0){case J===0:return this.current;case(J<0&&Math.abs(J)<=this.backtrack.length):return this.backtrack.slice(J)[0];case(J>0&&J<=this.lookahead.length):return this.lookahead[J-1];default:return null}};y.prototype.rangeToText=function(J){if(J instanceof SJ)return this.getRangeTokens(J).map(function(Q){return Q.char}).join("")};y.prototype.getText=function(){return this.tokens.map(function(J){return J.char}).join("")};y.prototype.getContext=function(J){var Q=this.registeredContexts[J];return Q?Q:null};y.prototype.on=function(J,Q){var K=this.events[J];if(K)return K.subscribe(Q);else return null};y.prototype.dispatch=function(J,Q){var K=this,Y=this.events[J];if(Y instanceof QJ)Y.subscribers.forEach(function(Z){Z.apply(K,Q||[])})};y.prototype.registerContextChecker=function(J,Q,K){if(this.getContext(J))return{FAIL:"context name '"+J+"' is already registered."};if(typeof Q!=="function")return{FAIL:"missing context start check."};if(typeof K!=="function")return{FAIL:"missing context end check."};var Y=new I6(J,Q,K);return this.registeredContexts[J]=Y,this.contextCheckers.push(Y),Y};y.prototype.getRangeTokens=function(J){var Q=J.startIndex+J.endOffset;return[].concat(this.tokens.slice(J.startIndex,Q))};y.prototype.getContextRanges=function(J){var Q=this.getContext(J);if(Q)return Q.ranges;else return{FAIL:"context checker '"+J+"' is not registered."}};y.prototype.resetContextsRanges=function(){var J=this.registeredContexts;for(var Q in J)if(J.hasOwnProperty(Q)){var K=J[Q];K.ranges=[]}};y.prototype.updateContextsRanges=function(){this.resetContextsRanges();var J=this.tokens.map(function(Y){return Y.char});for(var Q=0;Q<J.length;Q++){var K=new Y0(J,Q);this.runContextCheck(K)}this.dispatch("updateContextsRanges",[this.registeredContexts])};y.prototype.setEndOffset=function(J,Q){var K=this.getContext(Q).openRange.startIndex,Y=new SJ(K,J,Q),Z=this.getContext(Q).ranges;return Y.rangeId=Q+"."+Z.length,Z.push(Y),this.getContext(Q).openRange=null,Y};y.prototype.runContextCheck=function(J){var Q=this,K=J.index;this.contextCheckers.forEach(function(Y){var Z=Y.contextName,X=Q.getContext(Z).openRange;if(!X&&Y.checkStart(J))X=new SJ(K,null,Z),Q.getContext(Z).openRange=X,Q.dispatch("contextStart",[Z,K]);if(!!X&&Y.checkEnd(J)){var H=K-X.startIndex+1,W=Q.setEndOffset(H,Z);Q.dispatch("contextEnd",[Z,W])}})};y.prototype.tokenize=function(J){this.tokens=[],this.resetContextsRanges();var Q=Array.from(J);this.dispatch("start");for(var K=0;K<Q.length;K++){var Y=Q[K],Z=new Y0(Q,K);this.dispatch("next",[Z]),this.runContextCheck(Z);var X=new T0(Y);this.tokens.push(X),this.dispatch("newToken",[X,Z])}return this.dispatch("end",[this.tokens]),this.tokens};function L0(J){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(J)}function q9(J){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(J)}function z0(J){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(J)}function o0(J){return/[A-z]/.test(J)}function v6(J){return/\s/.test(J)}function e(J){this.font=J,this.features={}}function N0(J){this.id=J.id,this.tag=J.tag,this.substitution=J.substitution}function g0(J,Q){if(!J)return-1;switch(Q.format){case 1:return Q.glyphs.indexOf(J);case 2:var K=Q.ranges;for(var Y=0;Y<K.length;Y++){var Z=K[Y];if(J>=Z.start&&J<=Z.end){var X=J-Z.start;return Z.index+X}}break;default:return-1}return-1}function h6(J,Q){var K=g0(J,Q.coverage);if(K===-1)return null;return J+Q.deltaGlyphId}function y6(J,Q){var K=g0(J,Q.coverage);if(K===-1)return null;return Q.substitute[K]}function BJ(J,Q){var K=[];for(var Y=0;Y<J.length;Y++){var Z=J[Y],X=Q.current;X=Array.isArray(X)?X[0]:X;var H=g0(X,Z);if(H!==-1)K.push(H)}if(K.length!==J.length)return-1;return K}function x6(J,Q){var K=Q.inputCoverage.length+Q.lookaheadCoverage.length+Q.backtrackCoverage.length;if(J.context.length<K)return[];var Y=BJ(Q.inputCoverage,J);if(Y===-1)return[];var Z=Q.inputCoverage.length-1;if(J.lookahead.length<Q.lookaheadCoverage.length)return[];var X=J.lookahead.slice(Z);while(X.length&&z0(X[0].char))X.shift();var H=new Y0(X,0),W=BJ(Q.lookaheadCoverage,H),U=[].concat(J.backtrack);U.reverse();while(U.length&&z0(U[0].char))U.shift();if(U.length<Q.backtrackCoverage.length)return[];var A=new Y0(U,0),q=BJ(Q.backtrackCoverage,A),V=Y.length===Q.inputCoverage.length&&W.length===Q.lookaheadCoverage.length&&q.length===Q.backtrackCoverage.length,B=[];if(V)for(var _=0;_<Q.lookupRecords.length;_++){var E=Q.lookupRecords[_],O=E.lookupListIndex,z=this.getLookupByIndex(O);for(var F=0;F<z.subtables.length;F++){var D=z.subtables[F],N=this.getLookupMethod(z,D),I=this.getSubstitutionType(z,D);if(I==="12")for(var P=0;P<Y.length;P++){var v=J.get(P),S=N(v);if(S)B.push(S)}}}return B}function m6(J,Q){var K=J.current,Y=g0(K,Q.coverage);if(Y===-1)return null;var Z,X=Q.ligatureSets[Y];for(var H=0;H<X.length;H++){Z=X[H];for(var W=0;W<Z.components.length;W++){var U=J.lookahead[W],A=Z.components[W];if(U!==A)break;if(W===Z.components.length-1)return Z}}return null}function b6(J,Q){var K=g0(J,Q.coverage);if(K===-1)return null;return Q.sequences[K]}e.prototype.getDefaultScriptFeaturesIndexes=function(){var J=this.font.tables.gsub.scripts;for(var Q=0;Q<J.length;Q++){var K=J[Q];if(K.tag==="DFLT")return K.script.defaultLangSys.featureIndexes}return[]};e.prototype.getScriptFeaturesIndexes=function(J){var Q=this.font.tables;if(!Q.gsub)return[];if(!J)return this.getDefaultScriptFeaturesIndexes();var K=this.font.tables.gsub.scripts;for(var Y=0;Y<K.length;Y++){var Z=K[Y];if(Z.tag===J&&Z.script.defaultLangSys)return Z.script.defaultLangSys.featureIndexes;else{var X=Z.langSysRecords;if(X)for(var H=0;H<X.length;H++){var W=X[H];if(W.tag===J){var U=W.langSys;return U.featureIndexes}}}}return this.getDefaultScriptFeaturesIndexes()};e.prototype.mapTagsToFeatures=function(J,Q){var K={};for(var Y=0;Y<J.length;Y++){var Z=J[Y].tag,X=J[Y].feature;K[Z]=X}this.features[Q].tags=K};e.prototype.getScriptFeatures=function(J){var Q=this.features[J];if(this.features.hasOwnProperty(J))return Q;var K=this.getScriptFeaturesIndexes(J);if(!K)return null;var Y=this.font.tables.gsub;return Q=K.map(function(Z){return Y.features[Z]}),this.features[J]=Q,this.mapTagsToFeatures(Q,J),Q};e.prototype.getSubstitutionType=function(J,Q){var K=J.lookupType.toString(),Y=Q.substFormat.toString();return K+Y};e.prototype.getLookupMethod=function(J,Q){var K=this,Y=this.getSubstitutionType(J,Q);switch(Y){case"11":return function(Z){return h6.apply(K,[Z,Q])};case"12":return function(Z){return y6.apply(K,[Z,Q])};case"63":return function(Z){return x6.apply(K,[Z,Q])};case"41":return function(Z){return m6.apply(K,[Z,Q])};case"21":return function(Z){return b6.apply(K,[Z,Q])};default:throw new Error("lookupType: "+J.lookupType+" - substFormat: "+Q.substFormat+" is not yet supported")}};e.prototype.lookupFeature=function(J){var Q=J.contextParams,K=Q.index,Y=this.getFeature({tag:J.tag,script:J.script});if(!Y)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+J.tag+"' for script '"+J.script+"'.");var Z=this.getFeatureLookups(Y),X=[].concat(Q.context);for(var H=0;H<Z.length;H++){var W=Z[H],U=this.getLookupSubtables(W);for(var A=0;A<U.length;A++){var q=U[A],V=this.getSubstitutionType(W,q),B=this.getLookupMethod(W,q),_=void 0;switch(V){case"11":if(_=B(Q.current),_)X.splice(K,1,new N0({id:11,tag:J.tag,substitution:_}));break;case"12":if(_=B(Q.current),_)X.splice(K,1,new N0({id:12,tag:J.tag,substitution:_}));break;case"63":if(_=B(Q),Array.isArray(_)&&_.length)X.splice(K,1,new N0({id:63,tag:J.tag,substitution:_}));break;case"41":if(_=B(Q),_)X.splice(K,1,new N0({id:41,tag:J.tag,substitution:_}));break;case"21":if(_=B(Q.current),_)X.splice(K,1,new N0({id:21,tag:J.tag,substitution:_}));break}if(Q=new Y0(X,K),Array.isArray(_)&&!_.length)continue;_=null}}return X.length?X:null};e.prototype.supports=function(J){if(!J.script)return!1;this.getScriptFeatures(J.script);var Q=this.features.hasOwnProperty(J.script);if(!J.tag)return Q;var K=this.features[J.script].some(function(Y){return Y.tag===J.tag});return Q&&K};e.prototype.getLookupSubtables=function(J){return J.subtables||null};e.prototype.getLookupByIndex=function(J){var Q=this.font.tables.gsub.lookups;return Q[J]||null};e.prototype.getFeatureLookups=function(J){return J.lookupListIndexes.map(this.getLookupByIndex.bind(this))};e.prototype.getFeature=function J(Q){if(!this.font)return{FAIL:"No font was found"};if(!this.features.hasOwnProperty(Q.script))this.getScriptFeatures(Q.script);var K=this.features[Q.script];if(!K)return{FAIL:"No feature for script "+Q.script};if(!K.tags[Q.tag])return null;return this.features[Q.script].tags[Q.tag]};function g6(J){var Q=J.current,K=J.get(-1);return K===null&&L0(Q)||!L0(K)&&L0(Q)}function f6(J){var Q=J.get(1);return Q===null||!L0(Q)}var u6={startCheck:g6,endCheck:f6};function d6(J){var Q=J.current,K=J.get(-1);return(L0(Q)||z0(Q))&&!L0(K)}function l6(J){var Q=J.get(1);switch(!0){case Q===null:return!0;case(!L0(Q)&&!z0(Q)):var K=v6(Q);if(!K)return!0;if(K){var Y=!1;if(Y=J.lookahead.some(function(Z){return L0(Z)||z0(Z)}),!Y)return!0}break;default:return!1}}var c6={startCheck:d6,endCheck:l6};function r6(J,Q,K){Q[K].setState(J.tag,J.substitution)}function p6(J,Q,K){Q[K].setState(J.tag,J.substitution)}function o6(J,Q,K){J.substitution.forEach(function(Y,Z){var X=Q[K+Z];X.setState(J.tag,Y)})}function n6(J,Q,K){var Y=Q[K];Y.setState(J.tag,J.substitution.ligGlyph);var Z=J.substitution.components.length;for(var X=0;X<Z;X++)Y=Q[K+X+1],Y.setState("deleted",!0)}var E8={11:r6,12:p6,63:o6,41:n6};function IJ(J,Q,K){if(J instanceof N0&&E8[J.id])E8[J.id](J,Q,K)}function i6(J){var Q=[].concat(J.backtrack);for(var K=Q.length-1;K>=0;K--){var Y=Q[K],Z=q9(Y),X=z0(Y);if(!Z&&!X)return!0;if(Z)return!1}return!1}function s6(J){if(q9(J.current))return!1;for(var Q=0;Q<J.lookahead.length;Q++){var K=J.lookahead[Q],Y=z0(K);if(!Y)return!0}return!1}function a6(J){var Q=this,K="arab",Y=this.featuresTags[K],Z=this.tokenizer.getRangeTokens(J);if(Z.length===1)return;var X=new Y0(Z.map(function(W){return W.getState("glyphIndex")}),0),H=new Y0(Z.map(function(W){return W.char}),0);Z.forEach(function(W,U){if(z0(W.char))return;X.setCurrentIndex(U),H.setCurrentIndex(U);var A=0;if(i6(H))A|=1;if(s6(H))A|=2;var q;switch(A){case 1:q="fina";break;case 2:q="init";break;case 3:q="medi";break}if(Y.indexOf(q)===-1)return;var V=Q.query.lookupFeature({tag:q,script:K,contextParams:X});if(V instanceof Error)return console.info(V.message);V.forEach(function(B,_){if(B instanceof N0)IJ(B,Z,_),X.context[_]=B.substitution})})}function L8(J,Q){var K=J.map(function(Y){return Y.activeState.value});return new Y0(K,Q||0)}function e6(J){var Q=this,K="arab",Y=this.tokenizer.getRangeTokens(J),Z=L8(Y);Z.context.forEach(function(X,H){Z.setCurrentIndex(H);var W=Q.query.lookupFeature({tag:"rlig",script:K,contextParams:Z});if(W.length)W.forEach(function(U){return IJ(U,Y,H)}),Z=L8(Y)})}function t6(J){var Q=J.current,K=J.get(-1);return K===null&&o0(Q)||!o0(K)&&o0(Q)}function JK(J){var Q=J.get(1);return Q===null||!o0(Q)}var QK={startCheck:t6,endCheck:JK};function z8(J,Q){var K=J.map(function(Y){return Y.activeState.value});return new Y0(K,Q||0)}function KK(J){var Q=this,K="latn",Y=this.tokenizer.getRangeTokens(J),Z=z8(Y);Z.context.forEach(function(X,H){Z.setCurrentIndex(H);var W=Q.query.lookupFeature({tag:"liga",script:K,contextParams:Z});if(W.length)W.forEach(function(U){return IJ(U,Y,H)}),Z=z8(Y)})}function H0(J){this.baseDir=J||"ltr",this.tokenizer=new y,this.featuresTags={}}H0.prototype.setText=function(J){this.text=J};H0.prototype.contextChecks={latinWordCheck:QK,arabicWordCheck:u6,arabicSentenceCheck:c6};function VJ(J){var Q=this.contextChecks[J+"Check"];return this.tokenizer.registerContextChecker(J,Q.startCheck,Q.endCheck)}function YK(){return VJ.call(this,"latinWord"),VJ.call(this,"arabicWord"),VJ.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function ZK(){var J=this,Q=this.tokenizer.getContextRanges("arabicSentence");Q.forEach(function(K){var Y=J.tokenizer.getRangeTokens(K);J.tokenizer.replaceRange(K.startIndex,K.endOffset,Y.reverse())})}H0.prototype.registerFeatures=function(J,Q){var K=this,Y=Q.filter(function(Z){return K.query.supports({script:J,tag:Z})});if(!this.featuresTags.hasOwnProperty(J))this.featuresTags[J]=Y;else this.featuresTags[J]=this.featuresTags[J].concat(Y)};H0.prototype.applyFeatures=function(J,Q){if(!J)throw new Error("No valid font was provided to apply features");if(!this.query)this.query=new e(J);for(var K=0;K<Q.length;K++){var Y=Q[K];if(!this.query.supports({script:Y.script}))continue;this.registerFeatures(Y.script,Y.tags)}};H0.prototype.registerModifier=function(J,Q,K){this.tokenizer.registerModifier(J,Q,K)};function kJ(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function XK(){var J=this,Q="arab";if(!this.featuresTags.hasOwnProperty(Q))return;kJ.call(this);var K=this.tokenizer.getContextRanges("arabicWord");K.forEach(function(Y){a6.call(J,Y)})}function HK(){var J=this,Q="arab";if(!this.featuresTags.hasOwnProperty(Q))return;var K=this.featuresTags[Q];if(K.indexOf("rlig")===-1)return;kJ.call(this);var Y=this.tokenizer.getContextRanges("arabicWord");Y.forEach(function(Z){e6.call(J,Z)})}function UK(){var J=this,Q="latn";if(!this.featuresTags.hasOwnProperty(Q))return;var K=this.featuresTags[Q];if(K.indexOf("liga")===-1)return;kJ.call(this);var Y=this.tokenizer.getContextRanges("latinWord");Y.forEach(function(Z){KK.call(J,Z)})}H0.prototype.checkContextReady=function(J){return!!this.tokenizer.getContext(J)};H0.prototype.applyFeaturesToContexts=function(){if(this.checkContextReady("arabicWord"))XK.call(this),HK.call(this);if(this.checkContextReady("latinWord"))UK.call(this);if(this.checkContextReady("arabicSentence"))ZK.call(this)};H0.prototype.processText=function(J){if(!this.text||this.text!==J)this.setText(J),YK.call(this),this.applyFeaturesToContexts()};H0.prototype.getBidiText=function(J){return this.processText(J),this.tokenizer.getText()};H0.prototype.getTextGlyphs=function(J){this.processText(J);var Q=[];for(var K=0;K<this.tokenizer.tokens.length;K++){var Y=this.tokenizer.tokens[K];if(Y.state.deleted)continue;var Z=Y.activeState.value;Q.push(Array.isArray(Z)?Z[0]:Z)}return Q};function k(J){if(J=J||{},J.tables=J.tables||{},!J.empty)P0(J.familyName,"When creating a new Font object, familyName is required."),P0(J.styleName,"When creating a new Font object, styleName is required."),P0(J.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),P0(J.ascender,"When creating a new Font object, ascender is required."),P0(J.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:J.familyName||" "},fontSubfamily:{en:J.styleName||" "},fullName:{en:J.fullName||J.familyName+" "+J.styleName},postScriptName:{en:J.postScriptName||(J.familyName+J.styleName).replace(/\s/g,"")},designer:{en:J.designer||" "},designerURL:{en:J.designerURL||" "},manufacturer:{en:J.manufacturer||" "},manufacturerURL:{en:J.manufacturerURL||" "},license:{en:J.license||" "},licenseURL:{en:J.licenseURL||" "},version:{en:J.version||"Version 0.1"},description:{en:J.description||" "},copyright:{en:J.copyright||" "},trademark:{en:J.trademark||" "}},this.unitsPerEm=J.unitsPerEm||1000,this.ascender=J.ascender,this.descender=J.descender,this.createdTimestamp=J.createdTimestamp,this.tables=Object.assign(J.tables,{os2:Object.assign({usWeightClass:J.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:J.widthClass||this.usWidthClasses.MEDIUM,fsSelection:J.fsSelection||this.fsSelectionValues.REGULAR},J.tables.os2)});this.supported=!0,this.glyphs=new q0.GlyphSet(this,J.glyphs||[]),this.encoding=new P8(this),this.position=new x0(this),this.substitution=new a(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new H9(this)}})}k.prototype.hasChar=function(J){return this.encoding.charToGlyphIndex(J)!==null};k.prototype.charToGlyphIndex=function(J){return this.encoding.charToGlyphIndex(J)};k.prototype.charToGlyph=function(J){var Q=this.charToGlyphIndex(J),K=this.glyphs.get(Q);if(!K)K=this.glyphs.get(0);return K};k.prototype.updateFeatures=function(J){return this.defaultRenderOptions.features.map(function(Q){if(Q.script==="latn")return{script:"latn",tags:Q.tags.filter(function(K){return J[K]})};else return Q})};k.prototype.stringToGlyphs=function(J,Q){var K=this,Y=new H0,Z=function(V){return K.charToGlyphIndex(V.char)};Y.registerModifier("glyphIndex",null,Z);var X=Q?this.updateFeatures(Q.features):this.defaultRenderOptions.features;Y.applyFeatures(this,X);var H=Y.getTextGlyphs(J),W=H.length,U=new Array(W),A=this.glyphs.get(0);for(var q=0;q<W;q+=1)U[q]=this.glyphs.get(H[q])||A;return U};k.prototype.nameToGlyphIndex=function(J){return this.glyphNames.nameToGlyphIndex(J)};k.prototype.nameToGlyph=function(J){var Q=this.nameToGlyphIndex(J),K=this.glyphs.get(Q);if(!K)K=this.glyphs.get(0);return K};k.prototype.glyphIndexToName=function(J){if(!this.glyphNames.glyphIndexToName)return"";return this.glyphNames.glyphIndexToName(J)};k.prototype.getKerningValue=function(J,Q){J=J.index||J,Q=Q.index||Q;var K=this.position.defaultKerningTables;if(K)return this.position.getKerningValue(K,J,Q);return this.kerningPairs[J+","+Q]||0};k.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};k.prototype.forEachGlyph=function(J,Q,K,Y,Z,X){Q=Q!==void 0?Q:0,K=K!==void 0?K:0,Y=Y!==void 0?Y:72,Z=Object.assign({},this.defaultRenderOptions,Z);var H=1/this.unitsPerEm*Y,W=this.stringToGlyphs(J,Z),U;if(Z.kerning){var A=Z.script||this.position.getDefaultScriptName();U=this.position.getKerningTables(A,Z.language)}for(var q=0;q<W.length;q+=1){var V=W[q];if(X.call(this,V,Q,K,Y,Z),V.advanceWidth)Q+=V.advanceWidth*H;if(Z.kerning&&q<W.length-1){var B=U?this.position.getKerningValue(U,V.index,W[q+1].index):this.getKerningValue(V,W[q+1]);Q+=B*H}if(Z.letterSpacing)Q+=Z.letterSpacing*Y;else if(Z.tracking)Q+=Z.tracking/1000*Y}return Q};k.prototype.getPath=function(J,Q,K,Y,Z){var X=new g;return this.forEachGlyph(J,Q,K,Y,Z,function(H,W,U,A){var q=H.getPath(W,U,A,Z,this);X.extend(q)}),X};k.prototype.getPaths=function(J,Q,K,Y,Z){var X=[];return this.forEachGlyph(J,Q,K,Y,Z,function(H,W,U,A){var q=H.getPath(W,U,A,Z,this);X.push(q)}),X};k.prototype.getAdvanceWidth=function(J,Q,K){return this.forEachGlyph(J,0,0,Q,K,function(){})};k.prototype.draw=function(J,Q,K,Y,Z,X){this.getPath(Q,K,Y,Z,X).draw(J)};k.prototype.drawPoints=function(J,Q,K,Y,Z,X){this.forEachGlyph(Q,K,Y,Z,X,function(H,W,U,A){H.drawPoints(J,W,U,A)})};k.prototype.drawMetrics=function(J,Q,K,Y,Z,X){this.forEachGlyph(Q,K,Y,Z,X,function(H,W,U,A){H.drawMetrics(J,W,U,A)})};k.prototype.getEnglishName=function(J){var Q=this.names[J];if(Q)return Q.en};k.prototype.validate=function(){var J=this;function Q(Y,Z){}function K(Y){var Z=J.getEnglishName(Y);Q(Z&&Z.trim().length>0)}K("fontFamily"),K("weightName"),K("manufacturer"),K("copyright"),K("version"),Q(this.unitsPerEm>0)};k.prototype.toTables=function(){return nQ.fontToTable(this)};k.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};k.prototype.toArrayBuffer=function(){var J=this.toTables(),Q=J.encode(),K=new ArrayBuffer(Q.length),Y=new Uint8Array(K);for(var Z=0;Z<Q.length;Z++)Y[Z]=Q[Z];return K};k.prototype.download=function(J){var Q=this.getEnglishName("fontFamily"),K=this.getEnglishName("fontSubfamily");J=J||Q.replace(/\s/g,"")+"-"+K+".otf";var Y=this.toArrayBuffer();if(sQ())if(window.URL=window.URL||window.webkitURL,window.URL){var Z=new DataView(Y),X=new Blob([Z],{type:"font/opentype"}),H=document.createElement("a");H.href=window.URL.createObjectURL(X),H.download=J;var W=document.createEvent("MouseEvents");W.initEvent("click",!0,!1),H.dispatchEvent(W)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var U=(()=>({})),A=aQ(Y);U.writeFileSync(J,A)}};k.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};k.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};k.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function B9(J,Q){var K=JSON.stringify(J),Y=256;for(var Z in Q){var X=parseInt(Z);if(!X||X<256)continue;if(JSON.stringify(Q[Z])===K)return X;if(Y<=X)Y=X+1}return Q[Y]=J,Y}function WK(J,Q,K){var Y=B9(Q.name,K);return[{name:"tag_"+J,type:"TAG",value:Q.tag},{name:"minValue_"+J,type:"FIXED",value:Q.minValue<<16},{name:"defaultValue_"+J,type:"FIXED",value:Q.defaultValue<<16},{name:"maxValue_"+J,type:"FIXED",value:Q.maxValue<<16},{name:"flags_"+J,type:"USHORT",value:0},{name:"nameID_"+J,type:"USHORT",value:Y}]}function AK(J,Q,K){var Y={},Z=new j.Parser(J,Q);return Y.tag=Z.parseTag(),Y.minValue=Z.parseFixed(),Y.defaultValue=Z.parseFixed(),Y.maxValue=Z.parseFixed(),Z.skip("uShort",1),Y.name=K[Z.parseUShort()]||{},Y}function qK(J,Q,K,Y){var Z=B9(Q.name,Y),X=[{name:"nameID_"+J,type:"USHORT",value:Z},{name:"flags_"+J,type:"USHORT",value:0}];for(var H=0;H<K.length;++H){var W=K[H].tag;X.push({name:"axis_"+J+" "+W,type:"FIXED",value:Q.coordinates[W]<<16})}return X}function BK(J,Q,K,Y){var Z={},X=new j.Parser(J,Q);Z.name=Y[X.parseUShort()]||{},X.skip("uShort",1),Z.coordinates={};for(var H=0;H<K.length;++H)Z.coordinates[K[H].tag]=X.parseFixed();return Z}function VK(J,Q){var K=new M.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:J.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:J.instances.length},{name:"instanceSize",type:"USHORT",value:4+J.axes.length*4}]);K.offsetToData=K.sizeOf();for(var Y=0;Y<J.axes.length;Y++)K.fields=K.fields.concat(WK(Y,J.axes[Y],Q));for(var Z=0;Z<J.instances.length;Z++)K.fields=K.fields.concat(qK(Z,J.instances[Z],J.axes,Q));return K}function _K(J,Q,K){var Y=new j.Parser(J,Q),Z=Y.parseULong();C.argument(Z===65536,"Unsupported fvar table version.");var X=Y.parseOffset16();Y.skip("uShort",1);var H=Y.parseUShort(),W=Y.parseUShort(),U=Y.parseUShort(),A=Y.parseUShort(),q=[];for(var V=0;V<H;V++)q.push(AK(J,Q+X+V*W,K));var B=[],_=Q+X+H*W;for(var E=0;E<U;E++)B.push(BK(J,_+E*A,q,K));return{axes:q,instances:B}}var wK={make:VK,parse:_K},GK=function(){return{coverage:this.parsePointer(w.coverage),attachPoints:this.parseList(w.pointer(w.uShortList))}},EK=function(){var J=this.parseUShort();if(C.argument(J===1||J===2||J===3,"Unsupported CaretValue table version."),J===1)return{coordinate:this.parseShort()};else if(J===2)return{pointindex:this.parseShort()};else if(J===3)return{coordinate:this.parseShort()}},LK=function(){return this.parseList(w.pointer(EK))},zK=function(){return{coverage:this.parsePointer(w.coverage),ligGlyphs:this.parseList(w.pointer(LK))}},OK=function(){return this.parseUShort(),this.parseList(w.pointer(w.coverage))};function FK(J,Q){Q=Q||0;var K=new w(J,Q),Y=K.parseVersion(1);C.argument(Y===1||Y===1.2||Y===1.3,"Unsupported GDEF table version.");var Z={version:Y,classDef:K.parsePointer(w.classDef),attachList:K.parsePointer(GK),ligCaretList:K.parsePointer(zK),markAttachClassDef:K.parsePointer(w.classDef)};if(Y>=1.2)Z.markGlyphSets=K.parsePointer(OK);return Z}var MK={parse:FK},Z0=new Array(10);Z0[1]=function J(){var Q=this.offset+this.relativeOffset,K=this.parseUShort();if(K===1)return{posFormat:1,coverage:this.parsePointer(w.coverage),value:this.parseValueRecord()};else if(K===2)return{posFormat:2,coverage:this.parsePointer(w.coverage),values:this.parseValueRecordList()};C.assert(!1,"0x"+Q.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Z0[2]=function J(){var Q=this.offset+this.relativeOffset,K=this.parseUShort();C.assert(K===1||K===2,"0x"+Q.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var Y=this.parsePointer(w.coverage),Z=this.parseUShort(),X=this.parseUShort();if(K===1)return{posFormat:K,coverage:Y,valueFormat1:Z,valueFormat2:X,pairSets:this.parseList(w.pointer(w.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Z),value2:this.parseValueRecord(X)}})))};else if(K===2){var H=this.parsePointer(w.classDef),W=this.parsePointer(w.classDef),U=this.parseUShort(),A=this.parseUShort();return{posFormat:K,coverage:Y,valueFormat1:Z,valueFormat2:X,classDef1:H,classDef2:W,class1Count:U,class2Count:A,classRecords:this.parseList(U,w.list(A,function(){return{value1:this.parseValueRecord(Z),value2:this.parseValueRecord(X)}}))}}};Z0[3]=function J(){return{error:"GPOS Lookup 3 not supported"}};Z0[4]=function J(){return{error:"GPOS Lookup 4 not supported"}};Z0[5]=function J(){return{error:"GPOS Lookup 5 not supported"}};Z0[6]=function J(){return{error:"GPOS Lookup 6 not supported"}};Z0[7]=function J(){return{error:"GPOS Lookup 7 not supported"}};Z0[8]=function J(){return{error:"GPOS Lookup 8 not supported"}};Z0[9]=function J(){return{error:"GPOS Lookup 9 not supported"}};function NK(J,Q){Q=Q||0;var K=new w(J,Q),Y=K.parseVersion(1);if(C.argument(Y===1||Y===1.1,"Unsupported GPOS table version "+Y),Y===1)return{version:Y,scripts:K.parseScriptList(),features:K.parseFeatureList(),lookups:K.parseLookupList(Z0)};else return{version:Y,scripts:K.parseScriptList(),features:K.parseFeatureList(),lookups:K.parseLookupList(Z0),variations:K.parseFeatureVariationsList()}}var $K=new Array(10);function jK(J){return new M.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new M.ScriptList(J.scripts)},{name:"features",type:"TABLE",value:new M.FeatureList(J.features)},{name:"lookups",type:"TABLE",value:new M.LookupList(J.lookups,$K)}])}var RK={parse:NK,make:jK};function CK(J){var Q={};J.skip("uShort");var K=J.parseUShort();C.argument(K===0,"Unsupported kern sub-table version."),J.skip("uShort",2);var Y=J.parseUShort();J.skip("uShort",3);for(var Z=0;Z<Y;Z+=1){var X=J.parseUShort(),H=J.parseUShort(),W=J.parseShort();Q[X+","+H]=W}return Q}function DK(J){var Q={};J.skip("uShort");var K=J.parseULong();if(K>1)console.warn("Only the first kern subtable is supported.");J.skip("uLong");var Y=J.parseUShort(),Z=Y&255;if(J.skip("uShort"),Z===0){var X=J.parseUShort();J.skip("uShort",3);for(var H=0;H<X;H+=1){var W=J.parseUShort(),U=J.parseUShort(),A=J.parseShort();Q[W+","+U]=A}}return Q}function TK(J,Q){var K=new j.Parser(J,Q),Y=K.parseUShort();if(Y===0)return CK(K);else if(Y===1)return DK(K);else throw new Error("Unsupported kern table version ("+Y+").")}var PK={parse:TK};function SK(J,Q,K,Y){var Z=new j.Parser(J,Q),X=Y?Z.parseUShort:Z.parseULong,H=[];for(var W=0;W<K+1;W+=1){var U=X.call(Z);if(Y)U*=2;H.push(U)}return H}var IK={parse:SK};function O8(J,Q){var K=[],Y=12;for(var Z=0;Z<Q;Z+=1){var X=j.getTag(J,Y),H=j.getULong(J,Y+4),W=j.getULong(J,Y+8),U=j.getULong(J,Y+12);K.push({tag:X,checksum:H,offset:W,length:U,compression:!1}),Y+=16}return K}function kK(J,Q){var K=[],Y=44;for(var Z=0;Z<Q;Z+=1){var X=j.getTag(J,Y),H=j.getULong(J,Y+4),W=j.getULong(J,Y+8),U=j.getULong(J,Y+12),A=void 0;if(W<U)A="WOFF";else A=!1;K.push({tag:X,offset:H,compression:A,compressedLength:W,length:U}),Y+=20}return K}function x(J,Q){if(Q.compression==="WOFF"){var K=new Uint8Array(J.buffer,Q.offset+2,Q.compressedLength-2),Y=new Uint8Array(Q.length);if(R9(K,Y),Y.byteLength!==Q.length)throw new Error("Decompression error: "+Q.tag+" decompressed length doesn't match recorded length");var Z=new DataView(Y.buffer,0);return{data:Z,offset:0}}else return{data:J,offset:Q.offset}}function V9(J,Q){Q=Q===void 0||Q===null?{}:Q;var K,Y,Z=new k({empty:!0}),X=new DataView(J,0),H,W=[],U=j.getTag(X,0);if(U===String.fromCharCode(0,1,0,0)||U==="true"||U==="typ1")Z.outlinesFormat="truetype",H=j.getUShort(X,4),W=O8(X,H);else if(U==="OTTO")Z.outlinesFormat="cff",H=j.getUShort(X,4),W=O8(X,H);else if(U==="wOFF"){var A=j.getTag(X,4);if(A===String.fromCharCode(0,1,0,0))Z.outlinesFormat="truetype";else if(A==="OTTO")Z.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+U);H=j.getUShort(X,12),W=kK(X,H)}else throw new Error("Unsupported OpenType signature "+U);var q,V,B,_,E,O,z,F,D,N,I,P;for(var v=0;v<H;v+=1){var S=W[v],R=void 0;switch(S.tag){case"cmap":R=x(X,S),Z.tables.cmap=T8.parse(R.data,R.offset),Z.encoding=new S8(Z.tables.cmap);break;case"cvt ":R=x(X,S),P=new j.Parser(R.data,R.offset),Z.tables.cvt=P.parseShortList(S.length/2);break;case"fvar":V=S;break;case"fpgm":R=x(X,S),P=new j.Parser(R.data,R.offset),Z.tables.fpgm=P.parseByteList(S.length);break;case"head":R=x(X,S),Z.tables.head=f8.parse(R.data,R.offset),Z.unitsPerEm=Z.tables.head.unitsPerEm,K=Z.tables.head.indexToLocFormat;break;case"hhea":R=x(X,S),Z.tables.hhea=u8.parse(R.data,R.offset),Z.ascender=Z.tables.hhea.ascender,Z.descender=Z.tables.hhea.descender,Z.numberOfHMetrics=Z.tables.hhea.numberOfHMetrics;break;case"hmtx":z=S;break;case"ltag":R=x(X,S),Y=l8.parse(R.data,R.offset);break;case"maxp":R=x(X,S),Z.tables.maxp=c8.parse(R.data,R.offset),Z.numGlyphs=Z.tables.maxp.numGlyphs;break;case"name":N=S;break;case"OS/2":R=x(X,S),Z.tables.os2=FJ.parse(R.data,R.offset);break;case"post":R=x(X,S),Z.tables.post=s8.parse(R.data,R.offset),Z.glyphNames=new CJ(Z.tables.post);break;case"prep":R=x(X,S),P=new j.Parser(R.data,R.offset),Z.tables.prep=P.parseByteList(S.length);break;case"glyf":B=S;break;case"loca":D=S;break;case"CFF ":q=S;break;case"kern":F=S;break;case"GDEF":_=S;break;case"GPOS":E=S;break;case"GSUB":O=S;break;case"meta":I=S;break}}var b=x(X,N);if(Z.tables.name=i8.parse(b.data,b.offset,Y),Z.names=Z.tables.name,B&&D){var n=K===0,i=x(X,D),t=IK.parse(i.data,i.offset,Z.numGlyphs,n),J0=x(X,B);Z.glyphs=Y9.parse(J0.data,J0.offset,t,Z,Q)}else if(q){var m=x(X,q);g8.parse(m.data,m.offset,Z,Q)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var f=x(X,z);if(d8.parse(Z,f.data,f.offset,Z.numberOfHMetrics,Z.numGlyphs,Z.glyphs,Q),p9(Z,Q),F){var l=x(X,F);Z.kerningPairs=PK.parse(l.data,l.offset)}else Z.kerningPairs={};if(_){var c=x(X,_);Z.tables.gdef=MK.parse(c.data,c.offset)}if(E){var r=x(X,E);Z.tables.gpos=RK.parse(r.data,r.offset),Z.position.init()}if(O){var u=x(X,O);Z.tables.gsub=a8.parse(u.data,u.offset)}if(V){var o=x(X,V);Z.tables.fvar=wK.parse(o.data,o.offset,Z.names)}if(I){var h=x(X,I);Z.tables.meta=e8.parse(h.data,h.offset),Z.metas=Z.tables.meta}return Z}class _9{family;font;icons;constructor(J,Q,K){let Y=s.range(Q.numGlyphs).filterMap((X)=>{let H=Q.glyphs.get(X);if(H?.unicode!=null)return[H.unicode,H]}).collectMap(),Z=new s(Object.entries(K)).filterMap(([X,H])=>{let W=Y.get(H);if(W)return[X,new w9(this,X,W)]}).collectMap();this.family=J,this.font=Q,this.icons=Z}static async load(J){let[Q,K]=await Promise.all([fetch(J.metadata).then((X)=>X.json()),fetch(J.font).then((X)=>X.arrayBuffer())]);document.fonts.add(new FontFace(J.name,K));let Y=document.createElement("style");Y.innerText=`.${J.name} {font-family: "${J.name}"}`,document.getElementsByTagName("head")[0].appendChild(Y);let Z=V9(K);return new _9(J.name,Z,Q.names)}getIcon(J){return this.icons.get(J)}}class w9{font;glyph;name;codepoint;content;constructor(J,Q,K){this.font=J,this.glyph=K,this.name=Q,this.codepoint=K.unicode,this.content=String.fromCodePoint(this.codepoint)}get fullName(){return`${this.font.family}-${this.name}`}toSvgString(){let J=this.glyph,Q=this.font.font.tables.head,K=Q.unitsPerEm/10,Y=Q.xMax-Q.xMin+2*K,Z=Q.yMax-Q.yMin+2*K,X=Q.yMax+K,H=Math.max(Y,Z),W=128,U=128/H,A=Q.unitsPerEm*U,q=(H-(J.advanceWidth??0))/2*U,V=X*U;return['<?xml version="1.0"?>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128">',`  ${this.glyph.getPath(q,V,A).toSVG(3)}`,"</svg>"].join(`
`)}toHTMLElement(){let J=document.createElement("div");return J.textContent=this.content,J.style.fontFamily=this.font.family,J.classList.add("icon-resolve"),J}}class vJ{icons;size;constructor(J){this.icons=J,this.size=new s(J.values()).fold(0,(Q,K)=>Q+K.size)}static fromFonts(J){let Q=new s(J).map((K)=>[K.family,K.icons]).collectMap();return new vJ(Q)}filter(J){if(J.length==0)return this;let Q=new RegExp(J),K=new s(this.icons).filterMap(([Y,Z])=>{let X=new s(Z).filter(([H,W])=>{return H.search(Q)>=0}).collectMap();return X.size==0?null:[Y,X]}).collectMap();return new vJ(K)}find(J){let Q=J.match(/(?<fontFamily>[^-]*)-(?<iconName>.*)/);if(!Q)return null;let{fontFamily:K,iconName:Y}=Q.groups;return this.icons.get(K)?.get(Y)??null}toHTMLElement(J){let Q=document.createElement("div");return Q.classList.add("sections"),new s(this.icons).forEach(([K,Y])=>{let Z=document.createElement("div");Z.classList.add("section"),Q.appendChild(Z);let X=document.createElement("div");X.appendChild((J.sectionsExpanded.get(K)?J.iconUI.fold:J.iconUI.unfold).toHTMLElement());let H=K.charAt(0).toUpperCase()+K.slice(1);X.appendChild(document.createTextNode(`${H} (${Y.size})`)),X.classList.add("section-header"),X.addEventListener("click",(A)=>{if(J.sectionsExpanded.get(K))J.sectionsExpanded.set(K,!1),U.style.display="none",X.replaceChild(J.iconUI.unfold.toHTMLElement(),X.firstChild);else J.sectionsExpanded.set(K,!0),U.style.display="",X.replaceChild(J.iconUI.fold.toHTMLElement(),X.firstChild)}),Z.appendChild(X);let W=document.getElementById("header-icon-name"),U=document.createElement("div");U.classList.add("section-icons"),U.classList.add(K),U.style.display=J.sectionsExpanded.get(K)?"":"none",new s(Y).forEach(([A,q])=>{let V=document.createElement("div"),B=`${K}-${A}`;V.textContent=q.content,V.dataset.name=B,V.addEventListener("click",()=>hK(q)),V.addEventListener("mouseover",(_)=>{let E=_.target;W.innerText=E.dataset.name}),V.addEventListener("mouseleave",(_)=>{W.innerText=""}),U.appendChild(V)}),Z.appendChild(U)}),Q}}function vK(J,Q=300){let K;return(...Y)=>{clearTimeout(K),K=setTimeout(()=>{J.apply(this,Y)},Q)}}function hK(J){let Q=document.getElementById("preview-svg");Q.innerHTML=J.toSvgString();let K=document.getElementById("preview-name"),Y=J.codepoint.toString(16).toUpperCase();K.innerHTML=`${J.fullName} <span class="codepoint">U+${Y}<span>`;let Z=document.getElementById("preview-dialog");Z.dataset.name=J.fullName,Z.showModal()}function uK(J){let Q={close:J.find("material-close-circle-outline"),clipboard:J.find("material-clipboard-outline"),copySVG:J.find("material-vector-curve"),fold:J.find("material-minus-box-outline"),foldAll:J.find("material-collapse-all-outline"),unfold:J.find("material-plus-box-outline"),unfoldAll:J.find("material-expand-all-outline"),theme:J.find("material-theme-light-dark")},K=new s(J.icons.keys()).map((_)=>[_,!0]).collectMap(),Y={iconUI:Q,sectionsExpanded:K},Z=document.getElementById("preview-dialog");Z.addEventListener("click",(_)=>{let E=Z.getBoundingClientRect();if(_.clientX<E.left||_.clientX>E.right||_.clientY<E.top||_.clientX>E.bottom)Z.close()});let X=document.getElementById("preview-close");X.replaceChildren(Y.iconUI.close.toHTMLElement()),X.addEventListener("click",()=>{Z.close()});let H=document.getElementById("preview-copy-name");H.replaceChildren(Y.iconUI.clipboard.toHTMLElement()),H.addEventListener("click",()=>{navigator.clipboard.writeText(Z.dataset.name)});let W=document.getElementById("preview-copy-svg");W.replaceChildren(Y.iconUI.copySVG.toHTMLElement()),W.addEventListener("click",()=>{let _=J.find(Z.dataset.name);navigator.clipboard.writeText(_.toSvgString())});let U=document.getElementById("search-result"),A=document.getElementById("header-search-input"),q=()=>{let _=J.filter(A.value).toHTMLElement(Y);U.replaceChildren(_)};A.addEventListener("input",vK(q));let V=document.getElementById("collapse");V.appendChild(Y.iconUI.foldAll.toHTMLElement()),V.addEventListener("click",()=>{let _=new s(Y.sectionsExpanded.values()).fold(!1,(E,O)=>E||O);for(let E of Y.sectionsExpanded.keys())Y.sectionsExpanded.set(E,!_);V.replaceChildren((_?Y.iconUI.unfoldAll:Y.iconUI.foldAll).toHTMLElement()),q()});let B=document.getElementById("theme-button");B.replaceChildren(Y.iconUI.theme.toHTMLElement()),B.addEventListener("click",()=>{U.replaceChildren(),localStorage.setItem("theme-dark",document.documentElement.classList.toggle("theme-dark").toString()),q()}),q()}export{uK as setup,vJ as IconSet,_9 as Font};

//# debugId=6B379B9084625B2A64756E2164756E21
//# sourceMappingURL=main.js.map
